{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { callMultiple } from \"../../lib/callMultiple\";\nimport { stopPropagation } from \"../../lib/utils\";\nvar MASK_SYMBOL = String.fromCharCode(0x2007);\nfunction getMaskElements(length) {\n  var result = [];\n  for (var index = 0; index < length; index += 1) {\n    result.push( /*#__PURE__*/React.createElement(\"span\", {\n      key: index,\n      className: \"vkuiInputLike__mask\"\n    }, MASK_SYMBOL));\n  }\n  return result;\n}\nexport var InputLike = function (_param) {\n  var value = _param.value,\n    length = _param.length,\n    index = _param.index,\n    onElementSelect = _param.onElementSelect,\n    onClick = _param.onClick,\n    onFocus = _param.onFocus,\n    getRootRef = _param.getRootRef,\n    className = _param.className,\n    props = _object_without_properties(_param, [\"value\", \"length\", \"index\", \"onElementSelect\", \"onClick\", \"onFocus\", \"getRootRef\", \"className\"]);\n  var _value, _value1, _value2, _value3;\n  var handleElementSelect = React.useCallback(function (event) {\n    var _onElementSelect;\n    stopPropagation(event);\n    (_onElementSelect = onElementSelect) === null || _onElementSelect === void 0 ? void 0 : _onElementSelect(index);\n  }, [index, onElementSelect]);\n  var _value_length;\n  return /*#__PURE__*/React.createElement(\"span\", _object_spread({\n    className: classNames(\"vkuiInputLike\", ((_value = value) === null || _value === void 0 ? void 0 : _value.length) === length && \"vkuiInputLike--full\", className),\n    tabIndex: 0,\n    ref: getRootRef,\n    onClick: callMultiple(onClick, handleElementSelect),\n    onFocus: callMultiple(stopPropagation, onFocus)\n  }, props), (_value1 = value) === null || _value1 === void 0 ? void 0 : _value1.slice(0, length - 1), ((_value2 = value) === null || _value2 === void 0 ? void 0 : _value2.slice(length - 1)) && /*#__PURE__*/React.createElement(\"span\", {\n    key: index,\n    className: \"vkuiInputLike__last_character\"\n  }, value.slice(length - 1)), getMaskElements(length - ((_value_length = (_value3 = value) === null || _value3 === void 0 ? void 0 : _value3.length) !== null && _value_length !== void 0 ? _value_length : 0)));\n};\nInputLike.displayName = \"InputLike\";","map":{"version":3,"names":["React","classNames","callMultiple","stopPropagation","MASK_SYMBOL","String","fromCharCode","getMaskElements","length","result","index","push","createElement","key","className","InputLike","_param","value","onElementSelect","onClick","onFocus","getRootRef","props","_object_without_properties","_value","_value1","_value2","_value3","handleElementSelect","useCallback","event","_onElementSelect","_value_length","_object_spread","tabIndex","ref","slice","displayName"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/InputLike/InputLike.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { stopPropagation } from '../../lib/utils';\nimport { HasRootRef } from '../../types';\nimport styles from './InputLike.module.css';\n\nexport interface InputLikeProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    HasRootRef<HTMLSpanElement> {\n  length: number;\n  index: number;\n  value?: string;\n  onElementSelect?(index: number): void;\n}\n\nconst MASK_SYMBOL = String.fromCharCode(0x2007);\n\nfunction getMaskElements(length: number) {\n  const result = [];\n  for (let index = 0; index < length; index += 1) {\n    result.push(\n      <span key={index} className={styles['InputLike__mask']}>\n        {MASK_SYMBOL}\n      </span>,\n    );\n  }\n  return result;\n}\n\nexport const InputLike = ({\n  value,\n  length,\n  index,\n  onElementSelect,\n  onClick,\n  onFocus,\n  getRootRef,\n  className,\n  ...props\n}: InputLikeProps) => {\n  const handleElementSelect = React.useCallback(\n    (event: React.MouseEvent<HTMLSpanElement>) => {\n      stopPropagation(event);\n      onElementSelect?.(index);\n    },\n    [index, onElementSelect],\n  );\n\n  return (\n    <span\n      className={classNames(\n        styles['InputLike'],\n        value?.length === length && styles['InputLike--full'],\n        className,\n      )}\n      tabIndex={0}\n      ref={getRootRef}\n      onClick={callMultiple(onClick, handleElementSelect)}\n      onFocus={callMultiple(stopPropagation, onFocus)}\n      {...props}\n    >\n      {value?.slice(0, length - 1)}\n      {value?.slice(length - 1) && (\n        <span key={index} className={styles['InputLike__last_character']}>\n          {value.slice(length - 1)}\n        </span>\n      )}\n      {getMaskElements(length - (value?.length ?? 0))}\n    </span>\n  );\n};\n\nInputLike.displayName = 'InputLike';\n"],"mappings":";;AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAC3B,SAASC,YAAY,QAAQ;AAC7B,SAASC,eAAe,QAAQ;AAahC,IAAMC,WAAA,GAAcC,MAAA,CAAOC,YAAY,CAAC;AAExC,SAASC,gBAAgBC,MAAc;EACrC,IAAMC,MAAA,GAAS,EAAE;EACjB,KAAK,IAAIC,KAAA,GAAQ,GAAGA,KAAA,GAAQF,MAAA,EAAQE,KAAA,IAAS,GAAG;IAC9CD,MAAA,CAAOE,IAAI,eACTX,KAAA,CAAAY,aAAA,CAAC;MAAKC,GAAA,EAAKH,KAAA;MAAOI,SAAS;OACxBV,WAAA;EAGP;EACA,OAAOK,MAAA;AACT;AAEA,OAAO,IAAMM,SAAA,GAAY,SAAAA,CAAAC,MAAA;MACvBC,KAAA,GAAAD,MAAA,CAAAC,KAAA;IACAT,MAAA,GAAAQ,MAAA,CAAAR,MAAA;IACAE,KAAA,GAAAM,MAAA,CAAAN,KAAA;IACAQ,eAAA,GAAAF,MAAA,CAAAE,eAAA;IACAC,OAAA,GAAAH,MAAA,CAAAG,OAAA;IACAC,OAAA,GAAAJ,MAAA,CAAAI,OAAA;IACAC,UAAA,GAAAL,MAAA,CAAAK,UAAA;IACAP,SAAA,GAAAE,MAAA,CAAAF,SAAA;IACGQ,KAAA,GAAAC,0BAAA,CAAAP,MAAA,GARH,SACA,UACA,SACA,mBACA,WACA,WACA,cACA,Y;MAeMQ,MAAA,EASDC,OAAA,EACAC,OAAA,EAK0BC,OAAA;EA3B/B,IAAMC,mBAAA,GAAsB5B,KAAA,CAAM6B,WAAW,CAC3C,UAACC,KAAA;QAECC,gBAAA;IADA5B,eAAA,CAAgB2B,KAAA;KAChBC,gBAAA,GAAAb,eAAA,cAAAa,gBAAA,uBAAAA,gBAAA,CAAkBrB,KAAA;EACpB,GACA,CAACA,KAAA,EAAOQ,eAAA,CAAgB;MAsBKc,aAAA;EAnB/B,oBACEhC,KAAA,CAAAY,aAAA,CAAC,QAAAqB,cAAA;IACCnB,SAAA,EAAWb,UAAA,kBAET,EAAAuB,MAAA,GAAAP,KAAA,cAAAO,MAAA,uBAAAA,MAAA,CAAOhB,MAAM,MAAKA,MAAA,2BAClBM,SAAA;IAEFoB,QAAA,EAAU;IACVC,GAAA,EAAKd,UAAA;IACLF,OAAA,EAASjB,YAAA,CAAaiB,OAAA,EAASS,mBAAA;IAC/BR,OAAA,EAASlB,YAAA,CAAaC,eAAA,EAAiBiB,OAAA;KACnCE,KAAA,IAEHG,OAAA,GAAAR,KAAA,cAAAQ,OAAA,uBAAAA,OAAA,CAAOW,KAAK,CAAC,GAAG5B,MAAA,GAAS,IACzB,EAAAkB,OAAA,GAAAT,KAAA,cAAAS,OAAA,uBAAAA,OAAA,CAAOU,KAAK,CAAC5B,MAAA,GAAS,oBACrBR,KAAA,CAAAY,aAAA,CAAC;IAAKC,GAAA,EAAKH,KAAA;IAAOI,SAAS;KACxBG,KAAA,CAAMmB,KAAK,CAAC5B,MAAA,GAAS,KAGzBD,eAAA,CAAgBC,MAAA,IAAU,CAAAwB,aAAA,IAAAL,OAAA,GAAAV,KAAA,cAAAU,OAAA,uBAAAA,OAAA,CAAOnB,MAAM,cAAbwB,aAAA,cAAAA,aAAA,GAAiB;AAGlD;AAEAjB,SAAA,CAAUsB,WAAW,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}