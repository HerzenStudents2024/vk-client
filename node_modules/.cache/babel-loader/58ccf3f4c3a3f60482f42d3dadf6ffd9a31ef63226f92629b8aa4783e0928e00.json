{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { _ as _sliced_to_array } from \"@swc/helpers/_/_sliced_to_array\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useGlobalEventListener } from \"../../hooks/useGlobalEventListener\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { useTimeout } from \"../../hooks/useTimeout\";\nimport { useDOM } from \"../../lib/dom\";\nimport { Platform } from \"../../lib/platform\";\n/**\n * @see https://vkcom.github.io/VKUI/#/PopoutWrapper\n */\nexport var PopoutWrapper = function (_param) {\n  var _param_alignY = _param.alignY,\n    alignY = _param_alignY === void 0 ? \"center\" : _param_alignY,\n    _param_alignX = _param.alignX,\n    alignX = _param_alignX === void 0 ? \"center\" : _param_alignX,\n    _param_closing = _param.closing,\n    closing = _param_closing === void 0 ? false : _param_closing,\n    _param_hasMask = _param.hasMask,\n    hasMask = _param_hasMask === void 0 ? true : _param_hasMask,\n    _param_fixed = _param.fixed,\n    fixed = _param_fixed === void 0 ? true : _param_fixed,\n    children = _param.children,\n    onClick = _param.onClick,\n    className = _param.className,\n    restProps = _object_without_properties(_param, [\"alignY\", \"alignX\", \"closing\", \"hasMask\", \"fixed\", \"children\", \"onClick\", \"className\"]);\n  var platform = usePlatform();\n  var _React_useState = _sliced_to_array(React.useState(!hasMask), 2),\n    opened = _React_useState[0],\n    setOpened = _React_useState[1];\n  var elRef = React.useRef(null);\n  var onFadeInEnd = function (e) {\n    if (!e || e.animationName === \"vkuivkui-animation-full-fade-in\") {\n      setOpened(true);\n    }\n  };\n  var animationFinishFallback = useTimeout(onFadeInEnd, platform === Platform.IOS ? 300 : 200);\n  React.useEffect(function () {\n    !opened && animationFinishFallback.set();\n  }, [animationFinishFallback, opened]);\n  var window = useDOM().window;\n  useGlobalEventListener(window, \"touchmove\", function (e) {\n    return e.preventDefault();\n  }, {\n    passive: false\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _object_spread_props(_object_spread({}, restProps), {\n    className: classNames(\"vkuiPopoutWrapper\", {\n      center: \"vkuiPopoutWrapper--alignY-center\",\n      top: \"vkuiPopoutWrapper--alignY-top\",\n      bottom: \"vkuiPopoutWrapper--alignY-bottom\"\n    }[alignY], {\n      center: \"vkuiPopoutWrapper--alignX-center\",\n      left: \"vkuiPopoutWrapper--alignX-left\",\n      right: \"vkuiPopoutWrapper--alignX-right\"\n    }[alignX], closing && \"vkuiPopoutWrapper--closing\", opened && \"vkuiPopoutWrapper--opened\", fixed && \"vkuiPopoutWrapper--fixed\", hasMask && \"vkuiPopoutWrapper--masked\", className),\n    onAnimationEnd: opened ? undefined : onFadeInEnd,\n    ref: elRef\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiPopoutWrapper__container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiPopoutWrapper__overlay\",\n    onClick: onClick\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiPopoutWrapper__content\"\n  }, children)));\n};","map":{"version":3,"names":["React","classNames","useGlobalEventListener","usePlatform","useTimeout","useDOM","Platform","PopoutWrapper","_param","alignY","_param_alignY","_param_alignX","alignX","_param_closing","closing","_param_hasMask","hasMask","_param_fixed","fixed","children","onClick","className","restProps","_object_without_properties","platform","_React_useState","_sliced_to_array","useState","opened","setOpened","elRef","useRef","onFadeInEnd","e","animationName","animationFinishFallback","IOS","useEffect","set","window","preventDefault","passive","createElement","_object_spread_props","_object_spread","center","top","bottom","left","right","onAnimationEnd","undefined","ref"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/PopoutWrapper/PopoutWrapper.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useTimeout } from '../../hooks/useTimeout';\nimport { useDOM } from '../../lib/dom';\nimport { Platform } from '../../lib/platform';\nimport styles from './PopoutWrapper.module.css';\n\nexport interface PopoutWrapperProps extends React.HTMLAttributes<HTMLDivElement> {\n  hasMask?: boolean;\n  fixed?: boolean;\n  alignY?: 'top' | 'center' | 'bottom';\n  alignX?: 'left' | 'center' | 'right';\n  closing?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/PopoutWrapper\n */\nexport const PopoutWrapper = ({\n  alignY = 'center',\n  alignX = 'center',\n  closing = false,\n  hasMask = true,\n  fixed = true,\n  children,\n  onClick,\n  className,\n  ...restProps\n}: PopoutWrapperProps) => {\n  const platform = usePlatform();\n  const [opened, setOpened] = React.useState(!hasMask);\n  const elRef = React.useRef<HTMLDivElement>(null);\n\n  const onFadeInEnd = (e?: React.AnimationEvent) => {\n    if (!e || e.animationName === styles['vkui-animation-full-fade-in']) {\n      setOpened(true);\n    }\n  };\n  const animationFinishFallback = useTimeout(onFadeInEnd, platform === Platform.IOS ? 300 : 200);\n  React.useEffect(() => {\n    !opened && animationFinishFallback.set();\n  }, [animationFinishFallback, opened]);\n\n  const { window } = useDOM();\n  useGlobalEventListener(window, 'touchmove', (e) => e.preventDefault(), {\n    passive: false,\n  });\n\n  return (\n    <div\n      {...restProps}\n      className={classNames(\n        styles['PopoutWrapper'],\n        {\n          center: styles['PopoutWrapper--alignY-center'],\n          top: styles['PopoutWrapper--alignY-top'],\n          bottom: styles['PopoutWrapper--alignY-bottom'],\n        }[alignY],\n        {\n          center: styles['PopoutWrapper--alignX-center'],\n          left: styles['PopoutWrapper--alignX-left'],\n          right: styles['PopoutWrapper--alignX-right'],\n        }[alignX],\n        closing && styles['PopoutWrapper--closing'],\n        opened && styles['PopoutWrapper--opened'],\n        fixed && styles['PopoutWrapper--fixed'],\n        hasMask && styles['PopoutWrapper--masked'],\n        className,\n      )}\n      onAnimationEnd={opened ? undefined : onFadeInEnd}\n      ref={elRef}\n    >\n      <div className={styles['PopoutWrapper__container']}>\n        <div className={styles['PopoutWrapper__overlay']} onClick={onClick} />\n        <div className={styles['PopoutWrapper__content']}>{children}</div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":";;;;AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAC3B,SAASC,sBAAsB,QAAQ;AACvC,SAASC,WAAW,QAAQ;AAC5B,SAASC,UAAU,QAAQ;AAC3B,SAASC,MAAM,QAAQ;AACvB,SAASC,QAAQ,QAAQ;AAWzB;;;AAGA,OAAO,IAAMC,aAAA,GAAgB,SAAAA,CAAAC,MAAA;6BAC3BC,MAAA;IAAAA,MAAA,GAAAC,aAAA,cAAS,WAAAA,aAAA;IAAAC,aAAA,GAAAH,MAAA,CACTI,MAAA;IAAAA,MAAA,GAAAD,aAAA,cAAS,WAAAA,aAAA;IAAAE,cAAA,GAAAL,MAAA,CACTM,OAAA;IAAAA,OAAA,GAAAD,cAAA,cAAU,QAAAA,cAAA;IAAAE,cAAA,GAAAP,MAAA,CACVQ,OAAA;IAAAA,OAAA,GAAAD,cAAA,cAAU,OAAAA,cAAA;IAAAE,YAAA,GAAAT,MAAA,CACVU,KAAA;IAAAA,KAAA,GAAAD,YAAA,cAAQ,OAAAA,YAAA;IACRE,QAAA,GAAAX,MAAA,CAAAW,QAAA;IACAC,OAAA,GAAAZ,MAAA,CAAAY,OAAA;IACAC,SAAA,GAAAb,MAAA,CAAAa,SAAA;IACGC,SAAA,GAAAC,0BAAA,CAAAf,MAAA,GARH,UACA,UACA,WACA,WACA,SACA,YACA,WACA,Y;EAGA,IAAMgB,QAAA,GAAWrB,WAAA;EACjB,IAA4BsB,eAAA,GAAAC,gBAAA,CAAA1B,KAAA,CAAM2B,QAAQ,CAAC,CAACX,OAAA;IAArCY,MAAA,GAAqBH,eAAA;IAAbI,SAAA,GAAaJ,eAAA;EAC5B,IAAMK,KAAA,GAAQ9B,KAAA,CAAM+B,MAAM,CAAiB;EAE3C,IAAMC,WAAA,GAAc,SAAAA,CAACC,CAAA;IACnB,IAAI,CAACA,CAAA,IAAKA,CAAA,CAAEC,aAAa,wCAA4C;MACnEL,SAAA,CAAU;IACZ;EACF;EACA,IAAMM,uBAAA,GAA0B/B,UAAA,CAAW4B,WAAA,EAAaR,QAAA,KAAalB,QAAA,CAAS8B,GAAG,GAAG,MAAM;EAC1FpC,KAAA,CAAMqC,SAAS,CAAC;IACd,CAACT,MAAA,IAAUO,uBAAA,CAAwBG,GAAG;EACxC,GAAG,CAACH,uBAAA,EAAyBP,MAAA,CAAO;EAEpC,IAAMW,MAAE,GAAWlC,MAAA,GAAXkC,MAAA;EACRrC,sBAAA,CAAuBqC,MAAA,EAAQ,aAAa,UAACN,CAAA;WAAMA,CAAA,CAAEO,cAAc;KAAI;IACrEC,OAAA,EAAS;EACX;EAEA,oBACEzC,KAAA,CAAA0C,aAAA,CAAC,OAAAC,oBAAA,CAAAC,cAAA,KACKtB,SAAA;IACJD,SAAA,EAAWpB,UAAA,sBAET;MACE4C,MAAM;MACNC,GAAG;MACHC,MAAM;IACR,CAAC,CAACtC,MAAA,CAAO,EACT;MACEoC,MAAM;MACNG,IAAI;MACJC,KAAK;IACP,CAAC,CAACrC,MAAA,CAAO,EACTE,OAAA,kCACAc,MAAA,iCACAV,KAAA,gCACAF,OAAA,iCACAK,SAAA;IAEF6B,cAAA,EAAgBtB,MAAA,GAASuB,SAAA,GAAYnB,WAAA;IACrCoB,GAAA,EAAKtB;mBAEL9B,KAAA,CAAA0C,aAAA,CAAC;IAAIrB,SAAS;kBACZrB,KAAA,CAAA0C,aAAA,CAAC;IAAIrB,SAAS;IAAoCD,OAAA,EAASA;mBAC3DpB,KAAA,CAAA0C,aAAA,CAAC;IAAIrB,SAAS;KAAqCF,QAAA;AAI3D"},"metadata":{},"sourceType":"module","externalDependencies":[]}