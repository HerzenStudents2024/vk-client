{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { _ as _sliced_to_array } from \"@swc/helpers/_/_sliced_to_array\";\nimport * as React from \"react\";\nimport { classNames, noop } from \"@vkontakte/vkjs\";\nimport { useAdaptivityHasPointer } from \"../../hooks/useAdaptivityHasPointer\";\nimport { useEventListener } from \"../../hooks/useEventListener\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport { easeInOutSine } from \"../../lib/fx\";\nimport { ScrollArrow } from \"../ScrollArrow/ScrollArrow\";\n/**\n * timing method\n */\nfunction now() {\n  return performance && performance.now ? performance.now() : Date.now();\n}\n/**\n * Округляем el.scrollLeft\n * https://github.com/VKCOM/VKUI/pull/2445\n */\nvar roundUpElementScrollLeft = function (el) {\n  return Math.ceil(el.scrollLeft);\n};\n/**\n * Код анимации скрола, на основе полифила: https://github.com/iamdustan/smoothscroll\n * Константа взята из полифила (468), на дизайн-ревью уточнили до 250\n * @var {number} SCROLL_ONE_FRAME_TIME время анимации скролла\n */\nvar SCROLL_ONE_FRAME_TIME = 250;\nfunction doScroll(param) {\n  var scrollElement = param.scrollElement,\n    getScrollPosition = param.getScrollPosition,\n    animationQueue = param.animationQueue,\n    onScrollToRightBorder = param.onScrollToRightBorder,\n    onScrollEnd = param.onScrollEnd,\n    onScrollStart = param.onScrollStart,\n    initialScrollWidth = param.initialScrollWidth,\n    _param_scrollAnimationDuration = param.scrollAnimationDuration,\n    scrollAnimationDuration = _param_scrollAnimationDuration === void 0 ? SCROLL_ONE_FRAME_TIME : _param_scrollAnimationDuration;\n  if (!scrollElement || !getScrollPosition) {\n    return;\n  }\n  /**\n  * максимальное значение сдвига влево\n  */\n  var maxLeft = initialScrollWidth - scrollElement.offsetWidth;\n  var startLeft = roundUpElementScrollLeft(scrollElement);\n  var endLeft = getScrollPosition(startLeft);\n  onScrollStart();\n  if (endLeft >= maxLeft) {\n    onScrollToRightBorder();\n    endLeft = maxLeft;\n  }\n  var startTime = now();\n  (function scroll() {\n    if (!scrollElement) {\n      onScrollEnd();\n      return;\n    }\n    var time = now();\n    var elapsed = Math.min((time - startTime) / scrollAnimationDuration, 1);\n    var value = easeInOutSine(elapsed);\n    var currentLeft = startLeft + (endLeft - startLeft) * value;\n    scrollElement.scrollLeft = Math.ceil(currentLeft);\n    if (roundUpElementScrollLeft(scrollElement) !== Math.max(0, endLeft) && elapsed !== 1) {\n      requestAnimationFrame(scroll);\n      return;\n    }\n    onScrollEnd();\n    animationQueue.shift();\n    if (animationQueue.length > 0) {\n      animationQueue[0]();\n    }\n  })();\n}\n/**\n * @see https://vkcom.github.io/VKUI/#/HorizontalScroll\n */\nexport var HorizontalScroll = function (_param) {\n  var children = _param.children,\n    getScrollToLeft = _param.getScrollToLeft,\n    getScrollToRight = _param.getScrollToRight,\n    _param_showArrows = _param.showArrows,\n    showArrows = _param_showArrows === void 0 ? true : _param_showArrows,\n    _param_arrowSize = _param.arrowSize,\n    arrowSize = _param_arrowSize === void 0 ? \"l\" : _param_arrowSize,\n    arrowOffsetY = _param.arrowOffsetY,\n    _param_scrollAnimationDuration = _param.scrollAnimationDuration,\n    scrollAnimationDuration = _param_scrollAnimationDuration === void 0 ? SCROLL_ONE_FRAME_TIME : _param_scrollAnimationDuration,\n    getRef = _param.getRef,\n    className = _param.className,\n    _param_scrollOnAnyWheel = _param.scrollOnAnyWheel,\n    scrollOnAnyWheel = _param_scrollOnAnyWheel === void 0 ? false : _param_scrollOnAnyWheel,\n    restProps = _object_without_properties(_param, [\"children\", \"getScrollToLeft\", \"getScrollToRight\", \"showArrows\", \"arrowSize\", \"arrowOffsetY\", \"scrollAnimationDuration\", \"getRef\", \"className\", \"scrollOnAnyWheel\"]);\n  var _React_useState = _sliced_to_array(React.useState(false), 2),\n    canScrollLeft = _React_useState[0],\n    setCanScrollLeft = _React_useState[1];\n  var _React_useState1 = _sliced_to_array(React.useState(false), 2),\n    canScrollRight = _React_useState1[0],\n    setCanScrollRight = _React_useState1[1];\n  var isCustomScrollingRef = React.useRef(false);\n  var scrollerRef = useExternRef(getRef);\n  var animationQueue = React.useRef([]);\n  var hasPointer = useAdaptivityHasPointer();\n  var scrollTo = React.useCallback(function (getScrollPosition) {\n    var scrollElement = scrollerRef.current;\n    animationQueue.current.push(function () {\n      var _scrollElement_firstElementChild, _scrollElement;\n      return doScroll({\n        scrollElement: scrollElement,\n        getScrollPosition: getScrollPosition,\n        animationQueue: animationQueue.current,\n        onScrollToRightBorder: function () {\n          return setCanScrollRight(false);\n        },\n        onScrollEnd: function () {\n          return isCustomScrollingRef.current = false;\n        },\n        onScrollStart: function () {\n          return isCustomScrollingRef.current = true;\n        },\n        initialScrollWidth: ((_scrollElement = scrollElement) === null || _scrollElement === void 0 ? void 0 : (_scrollElement_firstElementChild = _scrollElement.firstElementChild) === null || _scrollElement_firstElementChild === void 0 ? void 0 : _scrollElement_firstElementChild.scrollWidth) || 0,\n        scrollAnimationDuration: scrollAnimationDuration\n      });\n    });\n    if (animationQueue.current.length === 1) {\n      animationQueue.current[0]();\n    }\n  }, [scrollAnimationDuration, scrollerRef]);\n  var scrollToLeft = React.useCallback(function () {\n    var getScrollPosition = getScrollToLeft !== null && getScrollToLeft !== void 0 ? getScrollToLeft : function (i) {\n      return i - scrollerRef.current.offsetWidth;\n    };\n    scrollTo(getScrollPosition);\n  }, [getScrollToLeft, scrollTo, scrollerRef]);\n  var scrollToRight = React.useCallback(function () {\n    var getScrollPosition = getScrollToRight !== null && getScrollToRight !== void 0 ? getScrollToRight : function (i) {\n      return i + scrollerRef.current.offsetWidth;\n    };\n    scrollTo(getScrollPosition);\n  }, [getScrollToRight, scrollTo, scrollerRef]);\n  var onscroll = React.useCallback(function () {\n    if (showArrows && hasPointer && scrollerRef.current && !isCustomScrollingRef.current) {\n      var scrollElement = scrollerRef.current;\n      setCanScrollLeft(scrollElement.scrollLeft > 0);\n      setCanScrollRight(roundUpElementScrollLeft(scrollElement) + scrollElement.offsetWidth < scrollElement.scrollWidth);\n    }\n  }, [hasPointer, scrollerRef, showArrows]);\n  var scrollEvent = useEventListener(\"scroll\", onscroll);\n  React.useEffect(function () {\n    if (scrollerRef.current) {\n      scrollEvent.add(scrollerRef.current);\n    }\n  }, [scrollEvent, scrollerRef]);\n  React.useEffect(onscroll, [scrollerRef, children, onscroll]);\n  /**\n  * Прокрутка с помощью любого колеса мыши\n  */\n  var onwheel = React.useCallback(function (e) {\n    scrollerRef.current.scrollBy({\n      left: e.deltaX + e.deltaY,\n      behavior: \"auto\"\n    });\n    e.preventDefault();\n  }, [scrollerRef]);\n  var wheelEvent = useEventListener(\"wheel\", onwheel);\n  React.useEffect(function () {\n    if (!scrollerRef.current || !scrollOnAnyWheel) {\n      return noop;\n    }\n    wheelEvent.add(scrollerRef.current);\n    return wheelEvent.remove;\n  }, [wheelEvent, scrollerRef, scrollOnAnyWheel]);\n  return /*#__PURE__*/React.createElement(\"div\", _object_spread_props(_object_spread({}, restProps), {\n    className: classNames(\"vkuiHorizontalScroll\", \"vkuiInternalHorizontalScroll\", showArrows === \"always\" && \"vkuiHorizontalScroll--withConstArrows\", className)\n  }), showArrows && (hasPointer || hasPointer === undefined) && canScrollLeft && /*#__PURE__*/React.createElement(ScrollArrow, {\n    size: arrowSize,\n    offsetY: arrowOffsetY,\n    direction: \"left\",\n    className: classNames(\"vkuiHorizontalScroll__arrow\", \"vkuiHorizontalScroll__arrowLeft\"),\n    onClick: scrollToLeft\n  }), showArrows && (hasPointer || hasPointer === undefined) && canScrollRight && /*#__PURE__*/React.createElement(ScrollArrow, {\n    size: arrowSize,\n    offsetY: arrowOffsetY,\n    direction: \"right\",\n    className: classNames(\"vkuiHorizontalScroll__arrow\", \"vkuiHorizontalScroll__arrowRight\"),\n    onClick: scrollToRight\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiHorizontalScroll__in\",\n    ref: scrollerRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiHorizontalScroll__in-wrapper\"\n  }, children)));\n};","map":{"version":3,"names":["React","classNames","noop","useAdaptivityHasPointer","useEventListener","useExternRef","easeInOutSine","ScrollArrow","now","performance","Date","roundUpElementScrollLeft","el","Math","ceil","scrollLeft","SCROLL_ONE_FRAME_TIME","doScroll","param","scrollElement","getScrollPosition","animationQueue","onScrollToRightBorder","onScrollEnd","onScrollStart","initialScrollWidth","_param_scrollAnimationDuration","scrollAnimationDuration","maxLeft","offsetWidth","startLeft","endLeft","startTime","scroll","time","elapsed","min","value","currentLeft","max","requestAnimationFrame","shift","length","HorizontalScroll","_param","children","getScrollToLeft","getScrollToRight","_param_showArrows","showArrows","_param_arrowSize","arrowSize","arrowOffsetY","getRef","className","_param_scrollOnAnyWheel","scrollOnAnyWheel","restProps","_object_without_properties","_React_useState","_sliced_to_array","useState","canScrollLeft","setCanScrollLeft","_React_useState1","canScrollRight","setCanScrollRight","isCustomScrollingRef","useRef","scrollerRef","hasPointer","scrollTo","useCallback","current","push","_scrollElement_firstElementChild","_scrollElement","firstElementChild","scrollWidth","scrollToLeft","i","scrollToRight","onscroll","scrollEvent","useEffect","add","onwheel","e","scrollBy","left","deltaX","deltaY","behavior","preventDefault","wheelEvent","remove","createElement","_object_spread_props","_object_spread","undefined","size","offsetY","direction","onClick","ref"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/HorizontalScroll/HorizontalScroll.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { useAdaptivityHasPointer } from '../../hooks/useAdaptivityHasPointer';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { easeInOutSine } from '../../lib/fx';\nimport { HasRef } from '../../types';\nimport { ScrollArrow } from '../ScrollArrow/ScrollArrow';\nimport styles from './HorizontalScroll.module.css';\n\ninterface ScrollContext {\n  scrollElement: HTMLElement | null;\n  scrollAnimationDuration: number;\n  animationQueue: VoidFunction[];\n  getScrollPosition: (currentPosition: number) => number;\n  onScrollToRightBorder: VoidFunction;\n  onScrollEnd: VoidFunction;\n  onScrollStart: VoidFunction;\n  /**\n   * Начальная ширина прокрутки.\n   * В некоторых случаях может отличаться от текущей ширины прокрутки из-за transforms: translate\n   */\n  initialScrollWidth: number;\n}\n\nexport type ScrollPositionHandler = (currentPosition: number) => number;\n\nexport interface HorizontalScrollProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    HasRef<HTMLDivElement> {\n  /**\n   * Функция для расчета величины прокрутки при клике на левую стрелку.\n   */\n  getScrollToLeft?: ScrollPositionHandler;\n  /**\n   * Функция для расчета величины прокрутки при клике на правую стрелку.\n   */\n  getScrollToRight?: ScrollPositionHandler;\n  arrowSize?: 'm' | 'l';\n  /**\n   * Смещает иконки кнопок навигации по вертикали.\n   */\n  arrowOffsetY?: number | string;\n  showArrows?: boolean | 'always';\n  scrollAnimationDuration?: number;\n  /**\n   * Добавляет возможность прокручивать контент на любое колесо мыши.\n   * По умолчанию прокручивается как любой горизонтальный контент через shift.\n   */\n  scrollOnAnyWheel?: boolean;\n}\n\n/**\n * timing method\n */\nfunction now() {\n  return performance && performance.now ? performance.now() : Date.now();\n}\n\n/**\n * Округляем el.scrollLeft\n * https://github.com/VKCOM/VKUI/pull/2445\n */\nconst roundUpElementScrollLeft = (el: HTMLElement) => Math.ceil(el.scrollLeft);\n\n/**\n * Код анимации скрола, на основе полифила: https://github.com/iamdustan/smoothscroll\n * Константа взята из полифила (468), на дизайн-ревью уточнили до 250\n * @var {number} SCROLL_ONE_FRAME_TIME время анимации скролла\n */\nconst SCROLL_ONE_FRAME_TIME = 250;\n\nfunction doScroll({\n  scrollElement,\n  getScrollPosition,\n  animationQueue,\n  onScrollToRightBorder,\n  onScrollEnd,\n  onScrollStart,\n  initialScrollWidth,\n  scrollAnimationDuration = SCROLL_ONE_FRAME_TIME,\n}: ScrollContext) {\n  if (!scrollElement || !getScrollPosition) {\n    return;\n  }\n\n  /**\n   * максимальное значение сдвига влево\n   */\n  const maxLeft = initialScrollWidth - scrollElement.offsetWidth;\n\n  let startLeft = roundUpElementScrollLeft(scrollElement);\n  let endLeft = getScrollPosition(startLeft);\n\n  onScrollStart();\n\n  if (endLeft >= maxLeft) {\n    onScrollToRightBorder();\n    endLeft = maxLeft;\n  }\n\n  const startTime = now();\n\n  (function scroll() {\n    if (!scrollElement) {\n      onScrollEnd();\n      return;\n    }\n\n    const time = now();\n    const elapsed = Math.min((time - startTime) / scrollAnimationDuration, 1);\n\n    const value = easeInOutSine(elapsed);\n\n    const currentLeft = startLeft + (endLeft - startLeft) * value;\n    scrollElement.scrollLeft = Math.ceil(currentLeft);\n\n    if (roundUpElementScrollLeft(scrollElement) !== Math.max(0, endLeft) && elapsed !== 1) {\n      requestAnimationFrame(scroll);\n      return;\n    }\n\n    onScrollEnd();\n    animationQueue.shift();\n    if (animationQueue.length > 0) {\n      animationQueue[0]();\n    }\n  })();\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/HorizontalScroll\n */\nexport const HorizontalScroll = ({\n  children,\n  getScrollToLeft,\n  getScrollToRight,\n  showArrows = true,\n  arrowSize = 'l',\n  arrowOffsetY,\n  scrollAnimationDuration = SCROLL_ONE_FRAME_TIME,\n  getRef,\n  className,\n  scrollOnAnyWheel = false,\n  ...restProps\n}: HorizontalScrollProps) => {\n  const [canScrollLeft, setCanScrollLeft] = React.useState(false);\n  const [canScrollRight, setCanScrollRight] = React.useState(false);\n\n  const isCustomScrollingRef = React.useRef(false);\n\n  const scrollerRef = useExternRef(getRef);\n\n  const animationQueue = React.useRef<VoidFunction[]>([]);\n\n  const hasPointer = useAdaptivityHasPointer();\n\n  const scrollTo = React.useCallback(\n    (getScrollPosition: ScrollPositionHandler) => {\n      const scrollElement = scrollerRef.current;\n\n      animationQueue.current.push(() =>\n        doScroll({\n          scrollElement,\n          getScrollPosition,\n          animationQueue: animationQueue.current,\n          onScrollToRightBorder: () => setCanScrollRight(false),\n          onScrollEnd: () => (isCustomScrollingRef.current = false),\n          onScrollStart: () => (isCustomScrollingRef.current = true),\n          initialScrollWidth: scrollElement?.firstElementChild?.scrollWidth || 0,\n          scrollAnimationDuration,\n        }),\n      );\n      if (animationQueue.current.length === 1) {\n        animationQueue.current[0]();\n      }\n    },\n    [scrollAnimationDuration, scrollerRef],\n  );\n\n  const scrollToLeft = React.useCallback(() => {\n    const getScrollPosition =\n      getScrollToLeft ?? ((i: number) => i - scrollerRef.current!.offsetWidth);\n    scrollTo(getScrollPosition);\n  }, [getScrollToLeft, scrollTo, scrollerRef]);\n\n  const scrollToRight = React.useCallback(() => {\n    const getScrollPosition =\n      getScrollToRight ?? ((i: number) => i + scrollerRef.current!.offsetWidth);\n    scrollTo(getScrollPosition);\n  }, [getScrollToRight, scrollTo, scrollerRef]);\n\n  const onscroll = React.useCallback(() => {\n    if (showArrows && hasPointer && scrollerRef.current && !isCustomScrollingRef.current) {\n      const scrollElement = scrollerRef.current;\n\n      setCanScrollLeft(scrollElement.scrollLeft > 0);\n      setCanScrollRight(\n        roundUpElementScrollLeft(scrollElement) + scrollElement.offsetWidth <\n          scrollElement.scrollWidth,\n      );\n    }\n  }, [hasPointer, scrollerRef, showArrows]);\n\n  const scrollEvent = useEventListener('scroll', onscroll);\n  React.useEffect(() => {\n    if (scrollerRef.current) {\n      scrollEvent.add(scrollerRef.current);\n    }\n  }, [scrollEvent, scrollerRef]);\n  React.useEffect(onscroll, [scrollerRef, children, onscroll]);\n\n  /**\n   * Прокрутка с помощью любого колеса мыши\n   */\n  const onwheel = React.useCallback(\n    (e: WheelEvent) => {\n      scrollerRef.current!.scrollBy({ left: e.deltaX + e.deltaY, behavior: 'auto' });\n      e.preventDefault();\n    },\n    [scrollerRef],\n  );\n\n  const wheelEvent = useEventListener('wheel', onwheel);\n  React.useEffect(() => {\n    if (!scrollerRef.current || !scrollOnAnyWheel) {\n      return noop;\n    }\n\n    wheelEvent.add(scrollerRef.current);\n\n    return wheelEvent.remove;\n  }, [wheelEvent, scrollerRef, scrollOnAnyWheel]);\n\n  return (\n    <div\n      {...restProps}\n      className={classNames(\n        styles['HorizontalScroll'],\n        'vkuiInternalHorizontalScroll',\n        showArrows === 'always' && styles['HorizontalScroll--withConstArrows'],\n        className,\n      )}\n    >\n      {showArrows && (hasPointer || hasPointer === undefined) && canScrollLeft && (\n        <ScrollArrow\n          size={arrowSize}\n          offsetY={arrowOffsetY}\n          direction=\"left\"\n          className={classNames(\n            styles['HorizontalScroll__arrow'],\n            styles['HorizontalScroll__arrowLeft'],\n          )}\n          onClick={scrollToLeft}\n        />\n      )}\n      {showArrows && (hasPointer || hasPointer === undefined) && canScrollRight && (\n        <ScrollArrow\n          size={arrowSize}\n          offsetY={arrowOffsetY}\n          direction=\"right\"\n          className={classNames(\n            styles['HorizontalScroll__arrow'],\n            styles['HorizontalScroll__arrowRight'],\n          )}\n          onClick={scrollToRight}\n        />\n      )}\n      <div className={styles['HorizontalScroll__in']} ref={scrollerRef}>\n        <div className={styles['HorizontalScroll__in-wrapper']}>{children}</div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}