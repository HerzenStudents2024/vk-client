{"ast":null,"code":"import * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useEventListener } from \"../../hooks/useEventListener\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport { useDOM } from \"../../lib/dom\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { stopPropagation } from \"../../lib/utils\";\nimport { useTrackerVisibility } from \"./useTrackerVisibility\";\nexport var CustomScrollView = function (param) {\n  var className = param.className,\n    children = param.children,\n    externalBoxRef = param.boxRef,\n    windowResize = param.windowResize,\n    _param_autoHideScrollbar = param.autoHideScrollbar,\n    autoHideScrollbar = _param_autoHideScrollbar === void 0 ? false : _param_autoHideScrollbar,\n    autoHideScrollbarDelay = param.autoHideScrollbarDelay,\n    onScroll = param.onScroll;\n  var subscribe = function subscribe(el) {\n    if (el) {\n      listeners.forEach(function (l) {\n        return l.add(el);\n      });\n    }\n  };\n  var unsubscribe = function unsubscribe() {\n    listeners.forEach(function (l) {\n      return l.remove();\n    });\n  };\n  var _useDOM = useDOM(),\n    document = _useDOM.document,\n    window = _useDOM.window;\n  var ratio = React.useRef(NaN);\n  var lastTrackerTop = React.useRef(0);\n  var clientHeight = React.useRef(0);\n  var trackerHeight = React.useRef(0);\n  var scrollHeight = React.useRef(0);\n  var transformProp = React.useRef(\"\");\n  var startY = React.useRef(0);\n  var trackerTop = React.useRef(0);\n  var boxRef = useExternRef(externalBoxRef);\n  var barY = React.useRef(null);\n  var trackerY = React.useRef(null);\n  var setTrackerPosition = function (scrollTop) {\n    lastTrackerTop.current = scrollTop;\n    if (trackerY.current !== null) {\n      trackerY.current.style[transformProp.current] = \"translate(0, \".concat(scrollTop, \"px)\");\n    }\n  };\n  var setTrackerPositionFromScroll = function (scrollTop) {\n    var progress = scrollTop / (scrollHeight.current - clientHeight.current);\n    setTrackerPosition((clientHeight.current - trackerHeight.current) * progress);\n  };\n  var resize = function () {\n    if (!boxRef.current || !barY.current || !trackerY.current) {\n      return;\n    }\n    var localClientHeight = boxRef.current.clientHeight;\n    var localScrollHeight = boxRef.current.scrollHeight;\n    var localRatio = localClientHeight / localScrollHeight;\n    var localTrackerHeight = Math.max(localClientHeight * localRatio, 40);\n    ratio.current = localRatio;\n    clientHeight.current = localClientHeight;\n    scrollHeight.current = localScrollHeight;\n    trackerHeight.current = localTrackerHeight;\n    if (localRatio >= 1) {\n      barY.current.style.display = \"none\";\n    } else {\n      barY.current.style.display = \"\";\n      trackerY.current.style.height = \"\".concat(localTrackerHeight, \"px\");\n      setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    }\n  };\n  var resizeHandler = useEventListener(\"resize\", resize);\n  useIsomorphicLayoutEffect(function () {\n    if (windowResize && window) {\n      resizeHandler.add(window);\n    }\n  }, [windowResize, window]);\n  useIsomorphicLayoutEffect(function () {\n    var _trackerY_current;\n    var style = (_trackerY_current = trackerY.current) === null || _trackerY_current === void 0 ? void 0 : _trackerY_current.style;\n    var prop = \"\";\n    if (style !== undefined) {\n      if (\"transform\" in style) {\n        prop = \"transform\";\n      } else if (\"webkitTransform\" in style) {\n        prop = \"webkitTransform\";\n      }\n    }\n    transformProp.current = prop;\n  }, []);\n  useIsomorphicLayoutEffect(resize);\n  var setScrollPositionFromTracker = function (trackerTop) {\n    var progress = trackerTop / (clientHeight.current - trackerHeight.current);\n    if (boxRef.current !== null) {\n      boxRef.current.scrollTop = (scrollHeight.current - clientHeight.current) * progress;\n    }\n  };\n  var onMove = function (e) {\n    e.preventDefault();\n    var diff = e.clientY - startY.current;\n    var position = Math.min(Math.max(trackerTop.current + diff, 0), clientHeight.current - trackerHeight.current);\n    setScrollPositionFromTracker(position);\n  };\n  var _useTrackerVisibility = useTrackerVisibility(autoHideScrollbar, autoHideScrollbarDelay),\n    trackerVisible = _useTrackerVisibility.trackerVisible,\n    onTargetScroll = _useTrackerVisibility.onTargetScroll,\n    onTrackerDragStart = _useTrackerVisibility.onTrackerDragStart,\n    onTrackerDragStop = _useTrackerVisibility.onTrackerDragStop,\n    onTrackerMouseEnter = _useTrackerVisibility.onTrackerMouseEnter,\n    onTrackerMouseLeave = _useTrackerVisibility.onTrackerMouseLeave;\n  var onUp = function (e) {\n    e.preventDefault();\n    if (autoHideScrollbar) {\n      onTrackerDragStop();\n    }\n    unsubscribe();\n  };\n  var scroll = function (event) {\n    var _onScroll;\n    if (ratio.current >= 1 || !boxRef.current) {\n      return;\n    }\n    if (autoHideScrollbar) {\n      onTargetScroll();\n    }\n    setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    (_onScroll = onScroll) === null || _onScroll === void 0 ? void 0 : _onScroll(event);\n  };\n  var listeners = [useEventListener(\"mousemove\", onMove), useEventListener(\"mouseup\", onUp)];\n  var onDragStart = function (e) {\n    e.preventDefault();\n    startY.current = e.clientY;\n    trackerTop.current = lastTrackerTop.current;\n    if (autoHideScrollbar) {\n      onTrackerDragStart();\n    }\n    subscribe(document);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiCustomScrollView\", className)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCustomScrollView__box\",\n    tabIndex: -1,\n    ref: boxRef,\n    onScroll: scroll\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCustomScrollView__barY\",\n    ref: barY,\n    onClick: stopPropagation\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiCustomScrollView__trackerY\", !trackerVisible && \"vkuiCustomScrollView__trackerY--hidden\"),\n    onMouseEnter: autoHideScrollbar ? onTrackerMouseEnter : undefined,\n    onMouseLeave: autoHideScrollbar ? onTrackerMouseLeave : undefined,\n    ref: trackerY,\n    onMouseDown: onDragStart\n  })));\n};","map":{"version":3,"names":["React","classNames","useEventListener","useExternRef","useDOM","useIsomorphicLayoutEffect","stopPropagation","useTrackerVisibility","CustomScrollView","param","className","children","externalBoxRef","boxRef","windowResize","_param_autoHideScrollbar","autoHideScrollbar","autoHideScrollbarDelay","onScroll","subscribe","el","listeners","forEach","l","add","unsubscribe","remove","_useDOM","document","window","ratio","useRef","NaN","lastTrackerTop","clientHeight","trackerHeight","scrollHeight","transformProp","startY","trackerTop","barY","trackerY","setTrackerPosition","scrollTop","current","style","concat","setTrackerPositionFromScroll","progress","resize","localClientHeight","localScrollHeight","localRatio","localTrackerHeight","Math","max","display","height","resizeHandler","_trackerY_current","prop","undefined","setScrollPositionFromTracker","onMove","e","preventDefault","diff","clientY","position","min","_useTrackerVisibility","trackerVisible","onTargetScroll","onTrackerDragStart","onTrackerDragStop","onTrackerMouseEnter","onTrackerMouseLeave","onUp","scroll","event","_onScroll","onDragStart","createElement","tabIndex","ref","onClick","onMouseEnter","onMouseLeave","onMouseDown"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/CustomScrollView/CustomScrollView.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { DOMProps, useDOM } from '../../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { stopPropagation } from '../../lib/utils';\nimport { TrackerOptionsProps, useTrackerVisibility } from './useTrackerVisibility';\nimport styles from './CustomScrollView.module.css';\n\nexport interface CustomScrollViewProps extends DOMProps, TrackerOptionsProps {\n  windowResize?: boolean;\n  boxRef?: React.Ref<HTMLDivElement>;\n  className?: HTMLDivElement['className'];\n  onScroll?(event: React.UIEvent<HTMLDivElement>): void;\n  children: React.ReactNode;\n}\n\nexport const CustomScrollView = ({\n  className,\n  children,\n  boxRef: externalBoxRef,\n  windowResize,\n  autoHideScrollbar = false,\n  autoHideScrollbarDelay,\n  onScroll,\n}: CustomScrollViewProps) => {\n  const { document, window } = useDOM();\n\n  const ratio = React.useRef(NaN);\n  const lastTrackerTop = React.useRef(0);\n  const clientHeight = React.useRef(0);\n  const trackerHeight = React.useRef(0);\n  const scrollHeight = React.useRef(0);\n  const transformProp = React.useRef('');\n  const startY = React.useRef(0);\n  const trackerTop = React.useRef(0);\n\n  const boxRef = useExternRef(externalBoxRef);\n\n  const barY = React.useRef<HTMLDivElement>(null);\n  const trackerY = React.useRef<HTMLDivElement>(null);\n\n  const setTrackerPosition = (scrollTop: number) => {\n    lastTrackerTop.current = scrollTop;\n    if (trackerY.current !== null) {\n      (trackerY.current.style as any)[transformProp.current] = `translate(0, ${scrollTop}px)`;\n    }\n  };\n\n  const setTrackerPositionFromScroll = (scrollTop: number) => {\n    const progress = scrollTop / (scrollHeight.current - clientHeight.current);\n    setTrackerPosition((clientHeight.current - trackerHeight.current) * progress);\n  };\n\n  const resize = () => {\n    if (!boxRef.current || !barY.current || !trackerY.current) {\n      return;\n    }\n    const localClientHeight = boxRef.current.clientHeight;\n    const localScrollHeight = boxRef.current.scrollHeight;\n    const localRatio = localClientHeight / localScrollHeight;\n    const localTrackerHeight = Math.max(localClientHeight * localRatio, 40);\n\n    ratio.current = localRatio;\n    clientHeight.current = localClientHeight;\n    scrollHeight.current = localScrollHeight;\n    trackerHeight.current = localTrackerHeight;\n\n    if (localRatio >= 1) {\n      barY.current.style.display = 'none';\n    } else {\n      barY.current.style.display = '';\n      trackerY.current.style.height = `${localTrackerHeight}px`;\n      setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    }\n  };\n\n  const resizeHandler = useEventListener('resize', resize);\n\n  useIsomorphicLayoutEffect(() => {\n    if (windowResize && window) {\n      resizeHandler.add(window);\n    }\n  }, [windowResize, window]);\n\n  useIsomorphicLayoutEffect(() => {\n    let style = trackerY.current?.style;\n    let prop = '';\n    if (style !== undefined) {\n      if ('transform' in style) {\n        prop = 'transform';\n      } else if ('webkitTransform' in style) {\n        prop = 'webkitTransform';\n      }\n    }\n    transformProp.current = prop;\n  }, []);\n\n  useIsomorphicLayoutEffect(resize);\n\n  const setScrollPositionFromTracker = (trackerTop: number) => {\n    const progress = trackerTop / (clientHeight.current - trackerHeight.current);\n    if (boxRef.current !== null) {\n      boxRef.current.scrollTop = (scrollHeight.current - clientHeight.current) * progress;\n    }\n  };\n\n  const onMove = (e: MouseEvent) => {\n    e.preventDefault();\n    const diff = e.clientY - startY.current;\n    const position = Math.min(\n      Math.max(trackerTop.current + diff, 0),\n      clientHeight.current - trackerHeight.current,\n    );\n\n    setScrollPositionFromTracker(position);\n  };\n\n  const {\n    trackerVisible,\n    onTargetScroll,\n    onTrackerDragStart,\n    onTrackerDragStop,\n    onTrackerMouseEnter,\n    onTrackerMouseLeave,\n  } = useTrackerVisibility(autoHideScrollbar, autoHideScrollbarDelay);\n\n  const onUp = (e: MouseEvent) => {\n    e.preventDefault();\n\n    if (autoHideScrollbar) {\n      onTrackerDragStop();\n    }\n\n    unsubscribe();\n  };\n\n  const scroll = (event: React.UIEvent<HTMLDivElement>) => {\n    if (ratio.current >= 1 || !boxRef.current) {\n      return;\n    }\n\n    if (autoHideScrollbar) {\n      onTargetScroll();\n    }\n\n    setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    onScroll?.(event);\n  };\n\n  const listeners = [useEventListener('mousemove', onMove), useEventListener('mouseup', onUp)];\n\n  function subscribe(el: Document | undefined) {\n    if (el) {\n      listeners.forEach((l) => l.add(el));\n    }\n  }\n\n  function unsubscribe() {\n    listeners.forEach((l) => l.remove());\n  }\n\n  const onDragStart = (e: React.MouseEvent) => {\n    e.preventDefault();\n    startY.current = e.clientY;\n    trackerTop.current = lastTrackerTop.current;\n\n    if (autoHideScrollbar) {\n      onTrackerDragStart();\n    }\n\n    subscribe(document);\n  };\n\n  return (\n    <div className={classNames(styles['CustomScrollView'], className)}>\n      <div className={styles['CustomScrollView__box']} tabIndex={-1} ref={boxRef} onScroll={scroll}>\n        {children}\n      </div>\n\n      <div className={styles['CustomScrollView__barY']} ref={barY} onClick={stopPropagation}>\n        <div\n          className={classNames(\n            styles['CustomScrollView__trackerY'],\n            !trackerVisible && styles['CustomScrollView__trackerY--hidden'],\n          )}\n          onMouseEnter={autoHideScrollbar ? onTrackerMouseEnter : undefined}\n          onMouseLeave={autoHideScrollbar ? onTrackerMouseLeave : undefined}\n          ref={trackerY}\n          onMouseDown={onDragStart}\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAC3B,SAASC,gBAAgB,QAAQ;AACjC,SAASC,YAAY,QAAQ;AAC7B,SAAmBC,MAAM,QAAQ;AACjC,SAASC,yBAAyB,QAAQ;AAC1C,SAASC,eAAe,QAAQ;AAChC,SAA8BC,oBAAoB,QAAQ;AAW1D,OAAO,IAAMC,gBAAA,GAAmB,SAAAA,CAAAC,KAAA;MAC9BC,SAAA,GAAAD,KAAA,CAAAC,SAAA;IACAC,QAAA,GAAAF,KAAA,CAAAE,QAAA;IACAC,cAAQ,GAAAH,KAAA,CAARI,MAAA;IACAC,YAAA,GAAAL,KAAA,CAAAK,YAAA;IAAAC,wBAAA,GAAAN,KAAA,CACAO,iBAAA;IAAAA,iBAAA,GAAAD,wBAAA,cAAoB,QAAAA,wBAAA;IACpBE,sBAAA,GAAAR,KAAA,CAAAQ,sBAAA;IACAC,QAAA,GAAAT,KAAA,CAAAS,QAAA;MAgISC,SAAA,GAAT,SAASA,UAAUC,EAAwB;IACzC,IAAIA,EAAA,EAAI;MACNC,SAAA,CAAUC,OAAO,CAAC,UAACC,CAAA;eAAMA,CAAA,CAAEC,GAAG,CAACJ,EAAA;;IACjC;EACF;MAESK,WAAA,GAAT,SAASA,YAAA;IACPJ,SAAA,CAAUC,OAAO,CAAC,UAACC,CAAA;aAAMA,CAAA,CAAEG,MAAM;;EACnC;EAtIA,IAA6BC,OAAA,GAAAvB,MAAA;IAArBwB,QAAA,GAAqBD,OAAA,CAArBC,QAAA;IAAUC,MAAA,GAAWF,OAAA,CAAXE,MAAA;EAElB,IAAMC,KAAA,GAAQ9B,KAAA,CAAM+B,MAAM,CAACC,GAAA;EAC3B,IAAMC,cAAA,GAAiBjC,KAAA,CAAM+B,MAAM,CAAC;EACpC,IAAMG,YAAA,GAAelC,KAAA,CAAM+B,MAAM,CAAC;EAClC,IAAMI,aAAA,GAAgBnC,KAAA,CAAM+B,MAAM,CAAC;EACnC,IAAMK,YAAA,GAAepC,KAAA,CAAM+B,MAAM,CAAC;EAClC,IAAMM,aAAA,GAAgBrC,KAAA,CAAM+B,MAAM,CAAC;EACnC,IAAMO,MAAA,GAAStC,KAAA,CAAM+B,MAAM,CAAC;EAC5B,IAAMQ,UAAA,GAAavC,KAAA,CAAM+B,MAAM,CAAC;EAEhC,IAAMlB,MAAA,GAASV,YAAA,CAAaS,cAAA;EAE5B,IAAM4B,IAAA,GAAOxC,KAAA,CAAM+B,MAAM,CAAiB;EAC1C,IAAMU,QAAA,GAAWzC,KAAA,CAAM+B,MAAM,CAAiB;EAE9C,IAAMW,kBAAA,GAAqB,SAAAA,CAACC,SAAA;IAC1BV,cAAA,CAAeW,OAAO,GAAGD,SAAA;IACzB,IAAIF,QAAA,CAASG,OAAO,KAAK,MAAM;MAC5BH,QAAA,CAASG,OAAO,CAACC,KAAK,CAASR,aAAA,CAAcO,OAAO,CAAC,GAAG,eAAC,CAAyBE,MAAA,CAAVH,SAAA,EAAU;IACrF;EACF;EAEA,IAAMI,4BAAA,GAA+B,SAAAA,CAACJ,SAAA;IACpC,IAAMK,QAAA,GAAWL,SAAA,IAAaP,YAAA,CAAaQ,OAAO,GAAGV,YAAA,CAAaU,OAAO,CAAD;IACxEF,kBAAA,CAAmB,CAACR,YAAA,CAAaU,OAAO,GAAGT,aAAA,CAAcS,OAAO,IAAII,QAAA;EACtE;EAEA,IAAMC,MAAA,GAAS,SAAAA,CAAA;IACb,IAAI,CAACpC,MAAA,CAAO+B,OAAO,IAAI,CAACJ,IAAA,CAAKI,OAAO,IAAI,CAACH,QAAA,CAASG,OAAO,EAAE;MACzD;IACF;IACA,IAAMM,iBAAA,GAAoBrC,MAAA,CAAO+B,OAAO,CAACV,YAAY;IACrD,IAAMiB,iBAAA,GAAoBtC,MAAA,CAAO+B,OAAO,CAACR,YAAY;IACrD,IAAMgB,UAAA,GAAaF,iBAAA,GAAoBC,iBAAA;IACvC,IAAME,kBAAA,GAAqBC,IAAA,CAAKC,GAAG,CAACL,iBAAA,GAAoBE,UAAA,EAAY;IAEpEtB,KAAA,CAAMc,OAAO,GAAGQ,UAAA;IAChBlB,YAAA,CAAaU,OAAO,GAAGM,iBAAA;IACvBd,YAAA,CAAaQ,OAAO,GAAGO,iBAAA;IACvBhB,aAAA,CAAcS,OAAO,GAAGS,kBAAA;IAExB,IAAID,UAAA,IAAc,GAAG;MACnBZ,IAAA,CAAKI,OAAO,CAACC,KAAK,CAACW,OAAO,GAAG;IAC/B,OAAO;MACLhB,IAAA,CAAKI,OAAO,CAACC,KAAK,CAACW,OAAO,GAAG;MAC7Bf,QAAA,CAASG,OAAO,CAACC,KAAK,CAACY,MAAM,GAAG,EAAC,CAAqBX,MAAA,CAAnBO,kBAAA,EAAmB;MACtDN,4BAAA,CAA6BlC,MAAA,CAAO+B,OAAO,CAACD,SAAS;IACvD;EACF;EAEA,IAAMe,aAAA,GAAgBxD,gBAAA,CAAiB,UAAU+C,MAAA;EAEjD5C,yBAAA,CAA0B;IACxB,IAAIS,YAAA,IAAgBe,MAAA,EAAQ;MAC1B6B,aAAA,CAAclC,GAAG,CAACK,MAAA;IACpB;EACF,GAAG,CAACf,YAAA,EAAce,MAAA,CAAO;EAEzBxB,yBAAA,CAA0B;QACZsD,iBAAA;IAAZ,IAAId,KAAA,IAAQc,iBAAA,GAAAlB,QAAA,CAASG,OAAO,cAAhBe,iBAAA,uBAAAA,iBAAA,CAAkBd,KAAK;IACnC,IAAIe,IAAA,GAAO;IACX,IAAIf,KAAA,KAAUgB,SAAA,EAAW;MACvB,IAAI,eAAehB,KAAA,EAAO;QACxBe,IAAA,GAAO;MACT,OAAO,IAAI,qBAAqBf,KAAA,EAAO;QACrCe,IAAA,GAAO;MACT;IACF;IACAvB,aAAA,CAAcO,OAAO,GAAGgB,IAAA;EAC1B,GAAG,EAAE;EAELvD,yBAAA,CAA0B4C,MAAA;EAE1B,IAAMa,4BAAA,GAA+B,SAAAA,CAACvB,UAAA;IACpC,IAAMS,QAAA,GAAWT,UAAA,IAAcL,YAAA,CAAaU,OAAO,GAAGT,aAAA,CAAcS,OAAO,CAAD;IAC1E,IAAI/B,MAAA,CAAO+B,OAAO,KAAK,MAAM;MAC3B/B,MAAA,CAAO+B,OAAO,CAACD,SAAS,GAAG,CAACP,YAAA,CAAaQ,OAAO,GAAGV,YAAA,CAAaU,OAAO,IAAII,QAAA;IAC7E;EACF;EAEA,IAAMe,MAAA,GAAS,SAAAA,CAACC,CAAA;IACdA,CAAA,CAAEC,cAAc;IAChB,IAAMC,IAAA,GAAOF,CAAA,CAAEG,OAAO,GAAG7B,MAAA,CAAOM,OAAO;IACvC,IAAMwB,QAAA,GAAWd,IAAA,CAAKe,GAAG,CACvBf,IAAA,CAAKC,GAAG,CAAChB,UAAA,CAAWK,OAAO,GAAGsB,IAAA,EAAM,IACpChC,YAAA,CAAaU,OAAO,GAAGT,aAAA,CAAcS,OAAO;IAG9CkB,4BAAA,CAA6BM,QAAA;EAC/B;EAEA,IAOIE,qBAAA,GAAA/D,oBAAA,CAAqBS,iBAAA,EAAmBC,sBAAA;IAN1CsD,cAAA,GAMED,qBAAA,CANFC,cAAA;IACAC,cAAA,GAKEF,qBAAA,CALFE,cAAA;IACAC,kBAAA,GAIEH,qBAAA,CAJFG,kBAAA;IACAC,iBAAA,GAGEJ,qBAAA,CAHFI,iBAAA;IACAC,mBAAA,GAEEL,qBAAA,CAFFK,mBAAA;IACAC,mBAAA,GACEN,qBAAA,CADFM,mBAAA;EAGF,IAAMC,IAAA,GAAO,SAAAA,CAACb,CAAA;IACZA,CAAA,CAAEC,cAAc;IAEhB,IAAIjD,iBAAA,EAAmB;MACrB0D,iBAAA;IACF;IAEAjD,WAAA;EACF;EAEA,IAAMqD,MAAA,GAAS,SAAAA,CAACC,KAAA;QAUdC,SAAA;IATA,IAAIlD,KAAA,CAAMc,OAAO,IAAI,KAAK,CAAC/B,MAAA,CAAO+B,OAAO,EAAE;MACzC;IACF;IAEA,IAAI5B,iBAAA,EAAmB;MACrBwD,cAAA;IACF;IAEAzB,4BAAA,CAA6BlC,MAAA,CAAO+B,OAAO,CAACD,SAAS;KACrDqC,SAAA,GAAA9D,QAAA,cAAA8D,SAAA,uBAAAA,SAAA,CAAWD,KAAA;EACb;EAEA,IAAM1D,SAAA,GAAY,CAACnB,gBAAA,CAAiB,aAAa6D,MAAA,GAAS7D,gBAAA,CAAiB,WAAW2E,IAAA,EAAM;EAY5F,IAAMI,WAAA,GAAc,SAAAA,CAACjB,CAAA;IACnBA,CAAA,CAAEC,cAAc;IAChB3B,MAAA,CAAOM,OAAO,GAAGoB,CAAA,CAAEG,OAAO;IAC1B5B,UAAA,CAAWK,OAAO,GAAGX,cAAA,CAAeW,OAAO;IAE3C,IAAI5B,iBAAA,EAAmB;MACrByD,kBAAA;IACF;IAEAtD,SAAA,CAAUS,QAAA;EACZ;EAEA,oBACE5B,KAAA,CAAAkF,aAAA,CAAC;IAAIxE,SAAA,EAAWT,UAAA,yBAAuCS,SAAA;kBACrDV,KAAA,CAAAkF,aAAA,CAAC;IAAIxE,SAAS;IAAmCyE,QAAA,EAAU,CAAC;IAAGC,GAAA,EAAKvE,MAAA;IAAQK,QAAA,EAAU4D;KACnFnE,QAAA,gBAGHX,KAAA,CAAAkF,aAAA,CAAC;IAAIxE,SAAS;IAAoC0E,GAAA,EAAK5C,IAAA;IAAM6C,OAAA,EAAS/E;kBACpEN,KAAA,CAAAkF,aAAA,CAAC;IACCxE,SAAA,EAAWT,UAAA,mCAET,CAACsE,cAAA;IAEHe,YAAA,EAActE,iBAAA,GAAoB2D,mBAAA,GAAsBd,SAAA;IACxD0B,YAAA,EAAcvE,iBAAA,GAAoB4D,mBAAA,GAAsBf,SAAA;IACxDuB,GAAA,EAAK3C,QAAA;IACL+C,WAAA,EAAaP;;AAKvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}