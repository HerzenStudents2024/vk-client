{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport * as React from \"react\";\nimport { noop } from \"@vkontakte/vkjs\";\nimport { generateVKUITokensClassName } from \"../../helpers/generateVKUITokensClassName\";\nimport { useAutoDetectAppearance } from \"../../hooks/useAutoDetectAppearance\";\nimport { useObjectMemo } from \"../../hooks/useObjectMemo\";\nimport { useDOM } from \"../../lib/dom\";\nimport { TokensClassProvider } from \"../../lib/tokensClassProvider\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { ConfigProviderContext, useConfigProvider } from \"./ConfigProviderContext\";\n/**\n * @see https://vkcom.github.io/VKUI/#/ConfigProvider\n */\nexport var ConfigProvider = function (props) {\n  var parentConfig = useConfigProvider();\n  var _$_object_spread = _object_spread({}, parentConfig, props),\n    children = _$_object_spread.children,\n    webviewType = _$_object_spread.webviewType,\n    isWebView = _$_object_spread.isWebView,\n    transitionMotionEnabled = _$_object_spread.transitionMotionEnabled,\n    platform = _$_object_spread.platform,\n    locale = _$_object_spread.locale,\n    appearanceProp = _$_object_spread.appearance,\n    _object_spread_onDetectAppearanceByBridge = _$_object_spread.onDetectAppearanceByBridge,\n    onDetectAppearanceByBridge = _object_spread_onDetectAppearanceByBridge === void 0 ? noop : _object_spread_onDetectAppearanceByBridge;\n  var appearance = useAutoDetectAppearance(appearanceProp, onDetectAppearanceByBridge);\n  var document = useDOM().document;\n  useIsomorphicLayoutEffect(function () {\n    var VKUITokensClassName = generateVKUITokensClassName(platform, appearance);\n    // eslint-disable-next-line no-restricted-properties\n    document.body.classList.add(VKUITokensClassName);\n    return function () {\n      // eslint-disable-next-line no-restricted-properties\n      document.body.classList.remove(VKUITokensClassName);\n    };\n  }, [platform, appearance]);\n  var configContext = useObjectMemo({\n    webviewType: webviewType,\n    isWebView: isWebView,\n    transitionMotionEnabled: transitionMotionEnabled,\n    platform: platform,\n    locale: locale,\n    appearance: appearance\n  });\n  return /*#__PURE__*/React.createElement(ConfigProviderContext.Provider, {\n    value: configContext\n  }, /*#__PURE__*/React.createElement(TokensClassProvider, {\n    platform: platform,\n    appearance: appearance\n  }, children));\n};","map":{"version":3,"names":["React","noop","generateVKUITokensClassName","useAutoDetectAppearance","useObjectMemo","useDOM","TokensClassProvider","useIsomorphicLayoutEffect","ConfigProviderContext","useConfigProvider","ConfigProvider","props","parentConfig","_$_object_spread","_object_spread","children","webviewType","isWebView","transitionMotionEnabled","platform","locale","appearanceProp","appearance","_object_spread_onDetectAppearanceByBridge","onDetectAppearanceByBridge","document","VKUITokensClassName","body","classList","add","remove","configContext","createElement","Provider","value"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/ConfigProvider/ConfigProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { generateVKUITokensClassName } from '../../helpers/generateVKUITokensClassName';\nimport { useAutoDetectAppearance } from '../../hooks/useAutoDetectAppearance';\nimport { useObjectMemo } from '../../hooks/useObjectMemo';\nimport { useDOM } from '../../lib/dom';\nimport { TokensClassProvider } from '../../lib/tokensClassProvider';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport {\n  ConfigProviderContext,\n  ConfigProviderContextInterface,\n  useConfigProvider,\n} from './ConfigProviderContext';\n\nexport interface ConfigProviderProps extends Partial<ConfigProviderContextInterface> {\n  onDetectAppearanceByBridge?: () => void;\n  children: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ConfigProvider\n */\nexport const ConfigProvider = (props: ConfigProviderProps) => {\n  const parentConfig = useConfigProvider();\n\n  const {\n    children,\n    webviewType,\n    isWebView,\n    transitionMotionEnabled,\n    platform,\n    locale,\n    appearance: appearanceProp,\n    onDetectAppearanceByBridge = noop,\n  } = {\n    ...parentConfig,\n    ...props,\n  };\n\n  const appearance = useAutoDetectAppearance(appearanceProp, onDetectAppearanceByBridge);\n\n  const { document } = useDOM();\n\n  useIsomorphicLayoutEffect(() => {\n    const VKUITokensClassName = generateVKUITokensClassName(platform, appearance);\n\n    // eslint-disable-next-line no-restricted-properties\n    document!.body.classList.add(VKUITokensClassName);\n\n    return () => {\n      // eslint-disable-next-line no-restricted-properties\n      document!.body.classList.remove(VKUITokensClassName);\n    };\n  }, [platform, appearance]);\n\n  const configContext = useObjectMemo({\n    webviewType,\n    isWebView,\n    transitionMotionEnabled,\n    platform,\n    locale,\n    appearance,\n  });\n\n  return (\n    <ConfigProviderContext.Provider value={configContext}>\n      <TokensClassProvider platform={platform} appearance={appearance}>\n        {children}\n      </TokensClassProvider>\n    </ConfigProviderContext.Provider>\n  );\n};\n"],"mappings":";AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,IAAI,QAAQ;AACrB,SAASC,2BAA2B,QAAQ;AAC5C,SAASC,uBAAuB,QAAQ;AACxC,SAASC,aAAa,QAAQ;AAC9B,SAASC,MAAM,QAAQ;AACvB,SAASC,mBAAmB,QAAQ;AACpC,SAASC,yBAAyB,QAAQ;AAC1C,SACEC,qBAAqB,EAErBC,iBAAiB,QACZ;AAOP;;;AAGA,OAAO,IAAMC,cAAA,GAAiB,SAAAA,CAACC,KAAA;EAC7B,IAAMC,YAAA,GAAeH,iBAAA;EAErB,IASII,gBAAA,GAAAC,cAAA,KACCF,YAAA,EACAD,KAAA;IAVHI,QAAA,GAQEF,gBAAA,CARFE,QAAA;IACAC,WAAA,GAOEH,gBAAA,CAPFG,WAAA;IACAC,SAAA,GAMEJ,gBAAA,CANFI,SAAA;IACAC,uBAAA,GAKEL,gBAAA,CALFK,uBAAA;IACAC,QAAA,GAIEN,gBAAA,CAJFM,QAAA;IACAC,MAAA,GAGEP,gBAAA,CAHFO,MAAA;IACAC,cAAY,GAEVR,gBAAA,CAFFS,UAAA;IAAAC,yCAAA,GAEEV,gBAAA,CADFW,0BAAA;IAAAA,0BAAA,GAAAD,yCAAA,cAA6BtB,IAAA,GAAAsB,yCAAA;EAM/B,IAAMD,UAAA,GAAanB,uBAAA,CAAwBkB,cAAA,EAAgBG,0BAAA;EAE3D,IAAMC,QAAE,GAAapB,MAAA,GAAboB,QAAA;EAERlB,yBAAA,CAA0B;IACxB,IAAMmB,mBAAA,GAAsBxB,2BAAA,CAA4BiB,QAAA,EAAUG,UAAA;IAElE;IACAG,QAAA,CAAUE,IAAI,CAACC,SAAS,CAACC,GAAG,CAACH,mBAAA;IAE7B,OAAO;MACL;MACAD,QAAA,CAAUE,IAAI,CAACC,SAAS,CAACE,MAAM,CAACJ,mBAAA;IAClC;EACF,GAAG,CAACP,QAAA,EAAUG,UAAA,CAAW;EAEzB,IAAMS,aAAA,GAAgB3B,aAAA,CAAc;IAClCY,WAAA,EAAAA,WAAA;IACAC,SAAA,EAAAA,SAAA;IACAC,uBAAA,EAAAA,uBAAA;IACAC,QAAA,EAAAA,QAAA;IACAC,MAAA,EAAAA,MAAA;IACAE,UAAA,EAAAA;EACF;EAEA,oBACEtB,KAAA,CAAAgC,aAAA,CAACxB,qBAAA,CAAsByB,QAAQ;IAACC,KAAA,EAAOH;kBACrC/B,KAAA,CAAAgC,aAAA,CAAC1B,mBAAA;IAAoBa,QAAA,EAAUA,QAAA;IAAUG,UAAA,EAAYA;KAClDP,QAAA;AAIT"},"metadata":{},"sourceType":"module","externalDependencies":[]}