{"ast":null,"code":"import { _ as _define_property } from \"@swc/helpers/_/_define_property\";\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { _ as _sliced_to_array } from \"@swc/helpers/_/_sliced_to_array\";\nimport { _ as _to_consumable_array } from \"@swc/helpers/_/_to_consumable_array\";\nimport * as React from \"react\";\nimport { IconSettingsProvider } from \"@vkontakte/icons\";\nimport { classNames, noop } from \"@vkontakte/vkjs\";\nimport { useAdaptivity } from \"../../hooks/useAdaptivity\";\nimport { useAppearance } from \"../../hooks/useAppearance\";\nimport { useInsets } from \"../../hooks/useInsets\";\nimport { useKeyboardInputTracker } from \"../../hooks/useKeyboardInputTracker\";\nimport { SizeType } from \"../../lib/adaptivity\";\nimport { useDOM } from \"../../lib/dom\";\nimport { isRefObject } from \"../../lib/isRefObject\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { AppRootContext } from \"./AppRootContext\";\nimport { ElementScrollController, GlobalScrollController } from \"./ScrollContext\";\nvar vkuiSizeXClassNames = _define_property({\n  none: \"vkui--sizeX-none\"\n}, SizeType.REGULAR, \"vkui--sizeX-regular\");\nvar INSET_CUSTOM_PROPERTY_PREFIX = \"--vkui_internal--safe_area_inset_\";\n/**\n * @see https://vkcom.github.io/VKUI/#/AppRoot\n */\nexport var AppRoot = function (_param) {\n  var children = _param.children,\n    _param_mode = _param.mode,\n    mode = _param_mode === void 0 ? \"full\" : _param_mode,\n    _param_scroll = _param.scroll,\n    scroll = _param_scroll === void 0 ? \"global\" : _param_scroll,\n    tmp = _param.portalRoot,\n    portalRootProp = tmp === void 0 ? null : tmp,\n    disablePortal = _param.disablePortal,\n    className = _param.className,\n    props = _object_without_properties(_param, [\"children\", \"mode\", \"scroll\", \"portalRoot\", \"disablePortal\", \"className\"]);\n  var isKeyboardInputActive = useKeyboardInputTracker();\n  var rootRef = React.useRef(null);\n  var _React_useState = _sliced_to_array(React.useState(null), 2),\n    portalRoot = _React_useState[0],\n    setPortalRoot = _React_useState[1];\n  var document = useDOM().document;\n  var insets = useInsets();\n  var appearance = useAppearance();\n  var _useAdaptivity = useAdaptivity(),\n    hasPointer = _useAdaptivity.hasPointer,\n    _useAdaptivity_sizeX = _useAdaptivity.sizeX,\n    sizeX = _useAdaptivity_sizeX === void 0 ? \"none\" : _useAdaptivity_sizeX;\n  // setup portal\n  useIsomorphicLayoutEffect(function () {\n    var portal = null;\n    if (portalRootProp) {\n      if (isRefObject(portalRootProp)) {\n        portal = portalRootProp.current;\n      } else {\n        portal = portalRootProp;\n      }\n    }\n    if (!portal) {\n      portal = document.createElement(\"div\");\n      document.body.appendChild(portal);\n    }\n    setPortalRoot(portal);\n    return function () {\n      if (!portalRootProp) {\n        var _portal_parentElement, _portal;\n        (_portal = portal) === null || _portal === void 0 ? void 0 : (_portal_parentElement = _portal.parentElement) === null || _portal_parentElement === void 0 ? void 0 : _portal_parentElement.removeChild(portal);\n      }\n    };\n  }, [portalRootProp]);\n  // setup root classes\n  useIsomorphicLayoutEffect(function () {\n    var _parent_classList;\n    var _rootRef_current, _parent;\n    if (mode === \"partial\") {\n      return noop;\n    }\n    var parent = (_rootRef_current = rootRef.current) === null || _rootRef_current === void 0 ? void 0 : _rootRef_current.parentElement;\n    var classes = [\"vkui__root\"].concat(mode === \"embedded\" ? \"vkui__root--embedded\" : []);\n    (_parent = parent) === null || _parent === void 0 ? void 0 : (_parent_classList = _parent.classList).add.apply(_parent_classList, _to_consumable_array(classes));\n    return function () {\n      var _parent_classList;\n      var _parent;\n      (_parent = parent) === null || _parent === void 0 ? void 0 : (_parent_classList = _parent.classList).remove.apply(_parent_classList, _to_consumable_array(classes));\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (mode === \"full\") {\n      document.documentElement.classList.add(\"vkui\");\n      return function () {\n        document.documentElement.classList.remove(\"vkui\");\n      };\n    }\n    return undefined;\n  }, [document, mode]);\n  // setup insets\n  useIsomorphicLayoutEffect(function () {\n    var _rootRef_current;\n    if (mode === \"partial\" || !((_rootRef_current = rootRef.current) === null || _rootRef_current === void 0 ? void 0 : _rootRef_current.parentElement)) {\n      return noop;\n    }\n    var parent = rootRef.current.parentElement;\n    var key;\n    for (key in insets) {\n      if (insets.hasOwnProperty(key) && typeof insets[key] === \"number\") {\n        var inset = insets[key];\n        parent.style.setProperty(INSET_CUSTOM_PROPERTY_PREFIX + key, \"\".concat(inset, \"px\"));\n        portalRoot && portalRoot.style.setProperty(INSET_CUSTOM_PROPERTY_PREFIX + key, \"\".concat(inset, \"px\"));\n      }\n    }\n    return function () {\n      var key;\n      for (key in insets) {\n        if (insets.hasOwnProperty(key)) {\n          parent.style.removeProperty(INSET_CUSTOM_PROPERTY_PREFIX + key);\n          portalRoot && portalRoot.style.removeProperty(INSET_CUSTOM_PROPERTY_PREFIX + key);\n        }\n      }\n    };\n  }, [insets, portalRoot]);\n  // adaptivity handler\n  useIsomorphicLayoutEffect(function () {\n    var _rootRef_current;\n    if (mode === \"partial\") {\n      return noop;\n    }\n    var className = sizeX !== SizeType.COMPACT ? vkuiSizeXClassNames[sizeX] : null;\n    var container = mode === \"embedded\" ? (_rootRef_current = rootRef.current) === null || _rootRef_current === void 0 ? void 0 : _rootRef_current.parentElement : document.body;\n    if (className === null || !container) {\n      return noop;\n    }\n    container.classList.add(className);\n    return function () {\n      container.classList.remove(className);\n    };\n  }, [sizeX]);\n  useIsomorphicLayoutEffect(function () {\n    if (mode !== \"full\" || appearance === undefined) {\n      return noop;\n    }\n    document.documentElement.style.setProperty(\"color-scheme\", appearance);\n    return function () {\n      return document.documentElement.style.removeProperty(\"color-scheme\");\n    };\n  }, [appearance]);\n  var ScrollController = React.useMemo(function () {\n    return scroll === \"contain\" ? ElementScrollController : GlobalScrollController;\n  }, [scroll]);\n  var content = /*#__PURE__*/React.createElement(AppRootContext.Provider, {\n    value: {\n      appRoot: rootRef,\n      portalRoot: portalRoot,\n      embedded: mode === \"embedded\",\n      keyboardInput: isKeyboardInputActive,\n      mode: mode,\n      disablePortal: disablePortal\n    }\n  }, /*#__PURE__*/React.createElement(ScrollController, {\n    elRef: rootRef\n  }, /*#__PURE__*/React.createElement(IconSettingsProvider, {\n    classPrefix: \"vkui\"\n  }, children)));\n  return mode === \"partial\" ? content : /*#__PURE__*/React.createElement(\"div\", _object_spread({\n    ref: rootRef,\n    className: classNames(\"vkuiAppRoot\", hasPointer === undefined ? \"vkuiAppRoot--pointer-none\" : !hasPointer && \"vkuiAppRoot--pointer-has-not\", className)\n  }, props), content);\n};","map":{"version":3,"names":["React","IconSettingsProvider","classNames","noop","useAdaptivity","useAppearance","useInsets","useKeyboardInputTracker","SizeType","useDOM","isRefObject","useIsomorphicLayoutEffect","AppRootContext","ElementScrollController","GlobalScrollController","vkuiSizeXClassNames","_define_property","none","REGULAR","INSET_CUSTOM_PROPERTY_PREFIX","AppRoot","_param","children","_param_mode","mode","_param_scroll","scroll","tmp","portalRoot","portalRootProp","disablePortal","className","props","_object_without_properties","isKeyboardInputActive","rootRef","useRef","_React_useState","_sliced_to_array","useState","setPortalRoot","document","insets","appearance","_useAdaptivity","hasPointer","_useAdaptivity_sizeX","sizeX","portal","current","createElement","body","appendChild","_portal_parentElement","_portal","parentElement","removeChild","_parent_classList","_rootRef_current","_parent","parent","classes","concat","classList","add","apply","_to_consumable_array","remove","documentElement","undefined","key","hasOwnProperty","inset","style","setProperty","removeProperty","COMPACT","container","ScrollController","useMemo","content","Provider","value","appRoot","embedded","keyboardInput","elRef","classPrefix","_object_spread","ref"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/AppRoot/AppRoot.tsx"],"sourcesContent":["import * as React from 'react';\nimport { IconSettingsProvider } from '@vkontakte/icons';\nimport { Insets } from '@vkontakte/vk-bridge';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useAppearance } from '../../hooks/useAppearance';\nimport { useInsets } from '../../hooks/useInsets';\nimport { useKeyboardInputTracker } from '../../hooks/useKeyboardInputTracker';\nimport { SizeType } from '../../lib/adaptivity';\nimport { useDOM } from '../../lib/dom';\nimport { isRefObject } from '../../lib/isRefObject';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { AppRootContext } from './AppRootContext';\nimport { ElementScrollController, GlobalScrollController } from './ScrollContext';\nimport styles from './AppRoot.module.css';\n\nconst vkuiSizeXClassNames = {\n  none: 'vkui--sizeX-none',\n  [SizeType.REGULAR]: 'vkui--sizeX-regular',\n};\n\nconst INSET_CUSTOM_PROPERTY_PREFIX = `--vkui_internal--safe_area_inset_`;\n\n// Используйте classList, но будьте осторожны\n/* eslint-disable no-restricted-properties */\n\nexport interface AppRootProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Режим встраивания */\n  mode?: 'partial' | 'embedded' | 'full';\n  window?: Window;\n  scroll?: 'global' | 'contain';\n  /**\n   * Кастомный root-элемент портала\n   */\n  portalRoot?: HTMLElement | React.RefObject<HTMLElement> | null;\n  /** Disable portal for components */\n  disablePortal?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AppRoot\n */\nexport const AppRoot = ({\n  children,\n  mode = 'full',\n  scroll = 'global',\n  portalRoot: portalRootProp = null,\n  disablePortal,\n  className,\n  ...props\n}: AppRootProps) => {\n  const isKeyboardInputActive = useKeyboardInputTracker();\n  const rootRef = React.useRef<HTMLDivElement | null>(null);\n  const [portalRoot, setPortalRoot] = React.useState<HTMLElement | null>(null);\n  const { document } = useDOM();\n  const insets = useInsets();\n  const appearance = useAppearance();\n\n  const { hasPointer, sizeX = 'none' } = useAdaptivity();\n\n  // setup portal\n  useIsomorphicLayoutEffect(() => {\n    let portal: HTMLElement | null = null;\n    if (portalRootProp) {\n      if (isRefObject(portalRootProp)) {\n        portal = portalRootProp.current;\n      } else {\n        portal = portalRootProp;\n      }\n    }\n    if (!portal) {\n      portal = document!.createElement('div');\n      document!.body.appendChild(portal);\n    }\n    setPortalRoot(portal);\n    return () => {\n      if (!portalRootProp) {\n        portal?.parentElement?.removeChild(portal);\n      }\n    };\n  }, [portalRootProp]);\n\n  // setup root classes\n  useIsomorphicLayoutEffect(() => {\n    if (mode === 'partial') {\n      return noop;\n    }\n\n    const parent = rootRef.current?.parentElement;\n    const classes = ['vkui__root'].concat(mode === 'embedded' ? 'vkui__root--embedded' : []);\n    parent?.classList.add(...classes);\n\n    return () => {\n      parent?.classList.remove(...classes);\n    };\n  }, []);\n\n  useIsomorphicLayoutEffect(() => {\n    if (mode === 'full') {\n      document!.documentElement.classList.add('vkui');\n\n      return () => {\n        document!.documentElement.classList.remove('vkui');\n      };\n    }\n\n    return undefined;\n  }, [document, mode]);\n\n  // setup insets\n  useIsomorphicLayoutEffect(() => {\n    if (mode === 'partial' || !rootRef.current?.parentElement) {\n      return noop;\n    }\n\n    const parent = rootRef.current.parentElement;\n\n    let key: keyof Insets;\n    for (key in insets) {\n      if (insets.hasOwnProperty(key) && typeof insets[key] === 'number') {\n        const inset = insets[key];\n        parent.style.setProperty(INSET_CUSTOM_PROPERTY_PREFIX + key, `${inset}px`);\n        portalRoot &&\n          portalRoot.style.setProperty(INSET_CUSTOM_PROPERTY_PREFIX + key, `${inset}px`);\n      }\n    }\n\n    return () => {\n      let key: keyof Insets;\n      for (key in insets) {\n        if (insets.hasOwnProperty(key)) {\n          parent.style.removeProperty(INSET_CUSTOM_PROPERTY_PREFIX + key);\n          portalRoot && portalRoot.style.removeProperty(INSET_CUSTOM_PROPERTY_PREFIX + key);\n        }\n      }\n    };\n  }, [insets, portalRoot]);\n\n  // adaptivity handler\n  useIsomorphicLayoutEffect(() => {\n    if (mode === 'partial') {\n      return noop;\n    }\n    const className = sizeX !== SizeType.COMPACT ? vkuiSizeXClassNames[sizeX] : null;\n    const container = mode === 'embedded' ? rootRef.current?.parentElement : document!.body;\n\n    if (className === null || !container) {\n      return noop;\n    }\n\n    container.classList.add(className);\n    return () => {\n      container.classList.remove(className);\n    };\n  }, [sizeX]);\n\n  useIsomorphicLayoutEffect(() => {\n    if (mode !== 'full' || appearance === undefined) {\n      return noop;\n    }\n    document!.documentElement.style.setProperty('color-scheme', appearance);\n\n    return () => document!.documentElement.style.removeProperty('color-scheme');\n  }, [appearance]);\n\n  const ScrollController = React.useMemo(\n    () => (scroll === 'contain' ? ElementScrollController : GlobalScrollController),\n    [scroll],\n  );\n\n  const content = (\n    <AppRootContext.Provider\n      value={{\n        appRoot: rootRef,\n        portalRoot,\n        embedded: mode === 'embedded',\n        keyboardInput: isKeyboardInputActive,\n        mode,\n        disablePortal,\n      }}\n    >\n      <ScrollController elRef={rootRef}>\n        <IconSettingsProvider classPrefix=\"vkui\">{children}</IconSettingsProvider>\n      </ScrollController>\n    </AppRootContext.Provider>\n  );\n\n  return mode === 'partial' ? (\n    content\n  ) : (\n    <div\n      ref={rootRef}\n      className={classNames(\n        styles['AppRoot'],\n        hasPointer === undefined\n          ? styles['AppRoot--pointer-none']\n          : !hasPointer && styles['AppRoot--pointer-has-not'],\n        className,\n      )}\n      {...props}\n    >\n      {content}\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}