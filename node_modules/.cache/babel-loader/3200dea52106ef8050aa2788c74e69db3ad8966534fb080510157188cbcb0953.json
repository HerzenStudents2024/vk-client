{"ast":null,"code":"//slice.ts\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport * as api from \"../api\";\nconst initialState = {\n  query: \"mars\",\n  language: \"\",\n  cases: {\n    data: [],\n    loading: true,\n    error: \"\"\n  }\n};\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    setQuery: (state, action) => {\n      state.query = action.payload;\n    },\n    setLanguage: (state, action) => {\n      state.language = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(api.cases.getCases.pending, state => {\n      state.cases.loading = true;\n    }).addCase(api.cases.getCases.fulfilled, (state, action) => {\n      state.cases.data = action.payload;\n      state.cases.loading = false;\n      state.cases.error = null;\n    }).addCase(api.cases.getCases.rejected, (state, action) => {\n      state.cases.loading = false;\n      state.cases.error = action.error;\n    });\n  }\n});\nexport const {\n  setQuery,\n  setLanguage\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","api","initialState","query","language","cases","data","loading","error","userSlice","name","reducers","setQuery","state","action","payload","setLanguage","extraReducers","builder","addCase","getCases","pending","fulfilled","rejected","actions","reducer"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/src/store/slice.ts"],"sourcesContent":["//slice.ts\r\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport * as api from \"../api\";\r\nimport { CaseItem } from \"../types\";\r\nimport { RootState } from \".\";\r\n\r\nexport interface UserState {\r\n  query: string; //2 уровень хранилища введённый пользователем запрос\r\n  language: string; // 2 уровень хранилища - язык, выбранный пользователем;\r\n  cases: {\r\n    // 2 уровень хранилища - информация о ситуациях;\r\n    data: CaseItem[];\r\n    loading: boolean;\r\n    error: any;\r\n  };\r\n}\r\n\r\nconst initialState: UserState = {\r\n  query: \"mars\",\r\n  language: \"\",\r\n  cases: {\r\n    data: [],\r\n    loading: true,\r\n    error: \"\",\r\n  },\r\n};\r\n\r\nexport const userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  reducers: {\r\n    setQuery: (state, action: PayloadAction<string>) => {\r\n      state.query = action.payload;\r\n    },\r\n    setLanguage: (state, action: PayloadAction<string>) => {\r\n      state.language = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(api.cases.getCases.pending, (state) => {\r\n        state.cases.loading = true;\r\n      })\r\n      .addCase(api.cases.getCases.fulfilled, (state, action) => {\r\n        state.cases.data = action.payload;\r\n        state.cases.loading = false;\r\n        state.cases.error = null;\r\n      })\r\n      .addCase(api.cases.getCases.rejected, (state, action) => {\r\n        state.cases.loading = false;\r\n        state.cases.error = action.error;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { setQuery, setLanguage } = userSlice.actions;\r\n\r\nexport default userSlice.reducer;\r\n"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAuB,kBAAkB;AAC7D,OAAO,KAAKC,GAAG,MAAM,QAAQ;AAe7B,MAAMC,YAAuB,GAAG;EAC9BC,KAAK,EAAE,MAAM;EACbC,QAAQ,EAAE,EAAE;EACZC,KAAK,EAAE;IACLC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE,IAAI;IACbC,KAAK,EAAE;EACT;AACF,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGT,WAAW,CAAC;EACnCU,IAAI,EAAE,MAAM;EACZR,YAAY;EACZS,QAAQ,EAAE;IACRC,QAAQ,EAAEA,CAACC,KAAK,EAAEC,MAA6B,KAAK;MAClDD,KAAK,CAACV,KAAK,GAAGW,MAAM,CAACC,OAAO;IAC9B,CAAC;IACDC,WAAW,EAAEA,CAACH,KAAK,EAAEC,MAA6B,KAAK;MACrDD,KAAK,CAACT,QAAQ,GAAGU,MAAM,CAACC,OAAO;IACjC;EACF,CAAC;EACDE,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAAClB,GAAG,CAACI,KAAK,CAACe,QAAQ,CAACC,OAAO,EAAGR,KAAK,IAAK;MAC9CA,KAAK,CAACR,KAAK,CAACE,OAAO,GAAG,IAAI;IAC5B,CAAC,CAAC,CACDY,OAAO,CAAClB,GAAG,CAACI,KAAK,CAACe,QAAQ,CAACE,SAAS,EAAE,CAACT,KAAK,EAAEC,MAAM,KAAK;MACxDD,KAAK,CAACR,KAAK,CAACC,IAAI,GAAGQ,MAAM,CAACC,OAAO;MACjCF,KAAK,CAACR,KAAK,CAACE,OAAO,GAAG,KAAK;MAC3BM,KAAK,CAACR,KAAK,CAACG,KAAK,GAAG,IAAI;IAC1B,CAAC,CAAC,CACDW,OAAO,CAAClB,GAAG,CAACI,KAAK,CAACe,QAAQ,CAACG,QAAQ,EAAE,CAACV,KAAK,EAAEC,MAAM,KAAK;MACvDD,KAAK,CAACR,KAAK,CAACE,OAAO,GAAG,KAAK;MAC3BM,KAAK,CAACR,KAAK,CAACG,KAAK,GAAGM,MAAM,CAACN,KAAK;IAClC,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEI,QAAQ;EAAEI;AAAY,CAAC,GAAGP,SAAS,CAACe,OAAO;AAE1D,eAAef,SAAS,CAACgB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}