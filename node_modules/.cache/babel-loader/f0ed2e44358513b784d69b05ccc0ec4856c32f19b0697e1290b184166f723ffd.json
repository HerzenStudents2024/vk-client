{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useAdaptivityWithJSMediaQueries } from \"../../hooks/useAdaptivityWithJSMediaQueries\";\nimport { useId } from \"../../hooks/useId\";\nimport { useOrientationChange } from \"../../hooks/useOrientationChange\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { SizeType } from \"../../lib/adaptivity\";\nimport { getNavId } from \"../../lib/getNavId\";\nimport { Platform } from \"../../lib/platform\";\nimport { multiRef } from \"../../lib/utils\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { ModalDismissButton } from \"../ModalDismissButton/ModalDismissButton\";\nimport { ModalRootContext, useModalRegistry } from \"../ModalRoot/ModalRootContext\";\nimport { ModalType } from \"../ModalRoot/types\";\nimport { ModalPageContext } from \"./ModalPageContext\";\nvar sizeClassName = {\n  s: \"vkuiModalPage--size-s\",\n  m: \"vkuiModalPage--size-m\",\n  l: \"vkuiModalPage--size-l\"\n};\nvar warn = warnOnce(\"ModalPage\");\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalPage\n */\nexport var ModalPage = function (_param) {\n  var children = _param.children,\n    header = _param.header,\n    tmp = _param.size,\n    sizeProp = tmp === void 0 ? \"s\" : tmp,\n    onOpen = _param.onOpen,\n    onOpened = _param.onOpened,\n    onClose = _param.onClose,\n    onClosed = _param.onClosed,\n    settlingHeight = _param.settlingHeight,\n    dynamicContentHeight = _param.dynamicContentHeight,\n    getModalContentRef = _param.getModalContentRef,\n    nav = _param.nav,\n    idProp = _param.id,\n    _param_hideCloseButton = _param.hideCloseButton,\n    hideCloseButton = _param_hideCloseButton === void 0 ? false : _param_hideCloseButton,\n    className = _param.className,\n    restProps = _object_without_properties(_param, [\"children\", \"header\", \"size\", \"onOpen\", \"onOpened\", \"onClose\", \"onClosed\", \"settlingHeight\", \"dynamicContentHeight\", \"getModalContentRef\", \"nav\", \"id\", \"hideCloseButton\", \"className\"]);\n  var generatingId = useId();\n  var id = idProp || generatingId;\n  var updateModalHeight = React.useContext(ModalRootContext).updateModalHeight;\n  var platform = usePlatform();\n  var orientation = useOrientationChange();\n  var _useAdaptivityWithJSMediaQueries = useAdaptivityWithJSMediaQueries(),\n    sizeX = _useAdaptivityWithJSMediaQueries.sizeX,\n    isDesktop = _useAdaptivityWithJSMediaQueries.isDesktop;\n  React.useEffect(function () {\n    if (dynamicContentHeight) {\n      updateModalHeight();\n    }\n  }, [children, dynamicContentHeight, orientation, updateModalHeight]);\n  var isCloseButtonShown = !hideCloseButton && isDesktop;\n  var size = isDesktop ? sizeProp : \"s\";\n  var modalContext = React.useContext(ModalRootContext);\n  var refs = useModalRegistry(getNavId({\n    nav: nav,\n    id: id\n  }, warn), ModalType.PAGE).refs;\n  var contextValue = React.useMemo(function () {\n    return {\n      labelId: \"\".concat(id, \"-label\")\n    };\n  }, [id]);\n  return /*#__PURE__*/React.createElement(ModalPageContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(\"div\", _object_spread_props(_object_spread({}, restProps), {\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": contextValue.labelId,\n    id: id,\n    className: classNames(\"vkuiModalPage\", platform === Platform.IOS && \"vkuiModalPage--ios\", isDesktop && \"vkuiModalPage--desktop\", sizeX === SizeType.REGULAR && \"vkuiInternalModalPage--sizeX-regular\", typeof size === \"string\" && sizeClassName[size], className)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__in-wrap\",\n    style: {\n      maxWidth: typeof size === \"number\" ? size : undefined\n    },\n    ref: refs.innerElement\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__in\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__header\",\n    ref: refs.headerElement\n  }, header), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content-wrap\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content\",\n    ref: multiRef(refs.contentElement, getModalContentRef)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content-in\"\n  }, children))), isCloseButtonShown && /*#__PURE__*/React.createElement(ModalDismissButton, {\n    onClick: onClose || modalContext.onClose\n  })))));\n};","map":{"version":3,"names":["React","classNames","useAdaptivityWithJSMediaQueries","useId","useOrientationChange","usePlatform","SizeType","getNavId","Platform","multiRef","warnOnce","ModalDismissButton","ModalRootContext","useModalRegistry","ModalType","ModalPageContext","sizeClassName","s","m","l","warn","ModalPage","_param","children","header","tmp","size","sizeProp","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav","idProp","id","_param_hideCloseButton","hideCloseButton","className","restProps","_object_without_properties","generatingId","updateModalHeight","useContext","platform","orientation","_useAdaptivityWithJSMediaQueries","sizeX","isDesktop","useEffect","isCloseButtonShown","modalContext","refs","PAGE","contextValue","useMemo","labelId","concat","createElement","Provider","value","_object_spread_props","_object_spread","role","IOS","REGULAR","style","maxWidth","undefined","ref","innerElement","headerElement","contentElement","onClick"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/ModalPage/ModalPage.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { useId } from '../../hooks/useId';\nimport { useOrientationChange } from '../../hooks/useOrientationChange';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { SizeType } from '../../lib/adaptivity';\nimport { getNavId, NavIdProps } from '../../lib/getNavId';\nimport { Platform } from '../../lib/platform';\nimport { multiRef } from '../../lib/utils';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { ModalDismissButton } from '../ModalDismissButton/ModalDismissButton';\nimport { ModalRootContext, useModalRegistry } from '../ModalRoot/ModalRootContext';\nimport { ModalType } from '../ModalRoot/types';\nimport { ModalPageContext } from './ModalPageContext';\nimport styles from './ModalPage.module.css';\n\nconst sizeClassName = {\n  s: styles['ModalPage--size-s'],\n  m: styles['ModalPage--size-m'],\n  l: styles['ModalPage--size-l'],\n};\n\nexport interface ModalPageProps extends React.HTMLAttributes<HTMLDivElement>, NavIdProps {\n  /**\n   * Шапка модальной страницы, `<ModalPageHeader />`\n   */\n  header?: React.ReactNode;\n  /**\n   * Задаёт контенту максимальную ширину для десктопной версии.\n   */\n  size?: 's' | 'm' | 'l' | number;\n  /**\n   * Будет вызвано при начале открытия модалки.\n   */\n  onOpen?: VoidFunction;\n  /**\n   * Будет вызвано при окончательном открытии модалки.\n   */\n  onOpened?: VoidFunction;\n  /**\n   * Будет вызвано при начале закрытия модалки.\n   */\n  onClose?: VoidFunction;\n  /**\n   * Будет вызвано при окончательном закрытии модалки.\n   */\n  onClosed?: VoidFunction;\n  /**\n   * Процент, на который изначально будет открыта модальная страница. При `settlingHeight={100}` модальная страница раскрывается на всю высоту.\n   */\n  settlingHeight?: number;\n  /**\n   * Если высота контента в модальной странице может поменяться, нужно установить это свойство\n   */\n  dynamicContentHeight?: boolean;\n  getModalContentRef?: React.Ref<HTMLDivElement>;\n  /**\n   * Скрывает кнопку закрытия (актуально для iOS, т.к. можно отрисовать кнопку закрытия внутри модалки)\n   */\n  hideCloseButton?: boolean;\n}\n\nconst warn = warnOnce('ModalPage');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalPage\n */\nexport const ModalPage = ({\n  children,\n  header,\n  size: sizeProp = 's',\n  onOpen,\n  onOpened,\n  onClose,\n  onClosed,\n  settlingHeight, // 75\n  dynamicContentHeight,\n  getModalContentRef,\n  nav,\n  id: idProp,\n  hideCloseButton = false,\n  className,\n  ...restProps\n}: ModalPageProps) => {\n  const generatingId = useId();\n  const id = idProp || generatingId;\n\n  const { updateModalHeight } = React.useContext(ModalRootContext);\n\n  const platform = usePlatform();\n  const orientation = useOrientationChange();\n  const { sizeX, isDesktop } = useAdaptivityWithJSMediaQueries();\n\n  React.useEffect(() => {\n    if (dynamicContentHeight) {\n      updateModalHeight();\n    }\n  }, [children, dynamicContentHeight, orientation, updateModalHeight]);\n\n  const isCloseButtonShown = !hideCloseButton && isDesktop;\n  const size = isDesktop ? sizeProp : 's';\n\n  const modalContext = React.useContext(ModalRootContext);\n  const { refs } = useModalRegistry(getNavId({ nav, id }, warn), ModalType.PAGE);\n\n  const contextValue = React.useMemo(() => ({ labelId: `${id}-label` }), [id]);\n\n  return (\n    <ModalPageContext.Provider value={contextValue}>\n      <div\n        {...restProps}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby={contextValue.labelId}\n        id={id}\n        className={classNames(\n          styles['ModalPage'],\n          platform === Platform.IOS && styles['ModalPage--ios'],\n          isDesktop && styles['ModalPage--desktop'],\n          sizeX === SizeType.REGULAR && 'vkuiInternalModalPage--sizeX-regular',\n          typeof size === 'string' && sizeClassName[size],\n          className,\n        )}\n      >\n        <div\n          className={styles['ModalPage__in-wrap']}\n          style={{\n            maxWidth: typeof size === 'number' ? size : undefined,\n          }}\n          ref={refs.innerElement}\n        >\n          <div className={styles['ModalPage__in']}>\n            <div className={styles['ModalPage__header']} ref={refs.headerElement}>\n              {header}\n            </div>\n\n            <div className={styles['ModalPage__content-wrap']}>\n              <div\n                className={styles['ModalPage__content']}\n                ref={multiRef<HTMLDivElement>(refs.contentElement, getModalContentRef)}\n              >\n                <div className={styles['ModalPage__content-in']}>{children}</div>\n              </div>\n            </div>\n            {isCloseButtonShown && <ModalDismissButton onClick={onClose || modalContext.onClose} />}\n          </div>\n        </div>\n      </div>\n    </ModalPageContext.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}