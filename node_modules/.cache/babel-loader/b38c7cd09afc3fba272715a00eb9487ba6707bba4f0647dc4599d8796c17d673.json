{"ast":null,"code":"import * as React from \"react\";\nimport { hasMouse as _hasPointer } from \"@vkontakte/vkjs\";\nimport { useBridgeAdaptivity } from \"../../hooks/useBridgeAdaptivity\";\nimport { BREAKPOINTS, SizeType, ViewHeight, ViewWidth } from \"../../lib/adaptivity\";\nimport { AdaptivityContext } from \"./AdaptivityContext\";\n/**\n * @see https://vkcom.github.io/VKUI/#/AdaptivityProvider\n */\nexport var AdaptivityProvider = function (param) {\n  var viewWidth = param.viewWidth,\n    viewHeight = param.viewHeight,\n    sizeX = param.sizeX,\n    sizeY = param.sizeY,\n    hasPointer = param.hasPointer,\n    hasHover = param.hasHover,\n    children = param.children;\n  var bridge = useBridgeAdaptivity();\n  var adaptivity = React.useMemo(function () {\n    return calculateAdaptivity({\n      viewWidth: viewWidth,\n      viewHeight: viewHeight,\n      sizeX: sizeX,\n      sizeY: sizeY,\n      hasPointer: hasPointer,\n      hasHover: hasHover\n    }, bridge);\n  }, [viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover, bridge]);\n  return /*#__PURE__*/React.createElement(AdaptivityContext.Provider, {\n    value: adaptivity\n  }, children);\n};\nfunction calculateAdaptivity(param, bridge) {\n  var viewWidth = param.viewWidth,\n    viewHeight = param.viewHeight,\n    sizeX = param.sizeX,\n    sizeY = param.sizeY,\n    hasPointer = param.hasPointer,\n    hasHover = param.hasHover;\n  if (bridge.type === \"adaptive\") {\n    var viewportWidth = bridge.viewportWidth,\n      viewportHeight = bridge.viewportHeight;\n    if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n      viewWidth = ViewWidth.DESKTOP;\n    } else if (viewportWidth >= BREAKPOINTS.TABLET) {\n      viewWidth = ViewWidth.TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n      viewWidth = ViewWidth.SMALL_TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.MOBILE) {\n      viewWidth = ViewWidth.MOBILE;\n    } else {\n      viewWidth = ViewWidth.SMALL_MOBILE;\n    }\n    if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n      viewHeight = ViewHeight.MEDIUM;\n    } else if (viewportHeight >= BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n      viewHeight = ViewHeight.SMALL;\n    } else {\n      viewHeight = ViewHeight.EXTRA_SMALL;\n    }\n    if (viewWidth <= ViewWidth.MOBILE) {\n      sizeX = SizeType.COMPACT;\n    } else {\n      sizeX = SizeType.REGULAR;\n    }\n    if (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer || viewHeight <= ViewHeight.EXTRA_SMALL) {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else if (bridge.type === \"force_mobile\" || bridge.type === \"force_mobile_compact\") {\n    viewWidth = ViewWidth.MOBILE;\n    sizeX = SizeType.COMPACT;\n    if (bridge.type === \"force_mobile_compact\") {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else {\n    if (sizeX === undefined && viewWidth !== undefined) {\n      if (viewWidth <= ViewWidth.MOBILE) {\n        sizeX = SizeType.COMPACT;\n      } else {\n        sizeX = SizeType.REGULAR;\n      }\n    }\n    if (sizeY === undefined && viewWidth !== undefined && viewHeight !== undefined) {\n      if (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer || viewHeight <= ViewHeight.EXTRA_SMALL) {\n        sizeY = SizeType.COMPACT;\n      } else {\n        sizeY = SizeType.REGULAR;\n      }\n    }\n  }\n  return {\n    viewWidth: viewWidth,\n    viewHeight: viewHeight,\n    sizeX: sizeX,\n    sizeY: sizeY,\n    hasPointer: hasPointer,\n    hasHover: hasHover\n  };\n}","map":{"version":3,"names":["React","hasMouse","_hasPointer","useBridgeAdaptivity","BREAKPOINTS","SizeType","ViewHeight","ViewWidth","AdaptivityContext","AdaptivityProvider","param","viewWidth","viewHeight","sizeX","sizeY","hasPointer","hasHover","children","bridge","adaptivity","useMemo","calculateAdaptivity","createElement","Provider","value","type","viewportWidth","viewportHeight","DESKTOP","TABLET","SMALL_TABLET","MOBILE","SMALL_MOBILE","MEDIUM_HEIGHT","MEDIUM","MOBILE_LANDSCAPE_HEIGHT","SMALL","EXTRA_SMALL","COMPACT","REGULAR","undefined"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/AdaptivityProvider/AdaptivityProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { hasMouse as _hasPointer } from '@vkontakte/vkjs';\nimport { BridgeAdaptivity, useBridgeAdaptivity } from '../../hooks/useBridgeAdaptivity';\nimport { BREAKPOINTS, SizeType, ViewHeight, ViewWidth } from '../../lib/adaptivity';\nimport { HasChildren } from '../../types';\nimport { AdaptivityContext, type AdaptivityProps } from './AdaptivityContext';\n\nexport interface AdaptivityProviderProps extends AdaptivityProps, HasChildren {}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AdaptivityProvider\n */\nexport const AdaptivityProvider = ({\n  viewWidth,\n  viewHeight,\n  sizeX,\n  sizeY,\n  hasPointer,\n  hasHover,\n  children,\n}: AdaptivityProviderProps) => {\n  const bridge = useBridgeAdaptivity();\n  const adaptivity = React.useMemo(\n    () =>\n      calculateAdaptivity(\n        {\n          viewWidth,\n          viewHeight,\n          sizeX,\n          sizeY,\n          hasPointer,\n          hasHover,\n        },\n        bridge,\n      ),\n    [viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover, bridge],\n  );\n\n  return <AdaptivityContext.Provider value={adaptivity}>{children}</AdaptivityContext.Provider>;\n};\n\nfunction calculateAdaptivity(\n  { viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover }: AdaptivityProps,\n  bridge: BridgeAdaptivity,\n) {\n  if (bridge.type === 'adaptive') {\n    const { viewportWidth, viewportHeight } = bridge;\n\n    if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n      viewWidth = ViewWidth.DESKTOP;\n    } else if (viewportWidth >= BREAKPOINTS.TABLET) {\n      viewWidth = ViewWidth.TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n      viewWidth = ViewWidth.SMALL_TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.MOBILE) {\n      viewWidth = ViewWidth.MOBILE;\n    } else {\n      viewWidth = ViewWidth.SMALL_MOBILE;\n    }\n\n    if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n      viewHeight = ViewHeight.MEDIUM;\n    } else if (viewportHeight >= BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n      viewHeight = ViewHeight.SMALL;\n    } else {\n      viewHeight = ViewHeight.EXTRA_SMALL;\n    }\n\n    if (viewWidth <= ViewWidth.MOBILE) {\n      sizeX = SizeType.COMPACT;\n    } else {\n      sizeX = SizeType.REGULAR;\n    }\n\n    if (\n      (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer) ||\n      viewHeight <= ViewHeight.EXTRA_SMALL\n    ) {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else if (bridge.type === 'force_mobile' || bridge.type === 'force_mobile_compact') {\n    viewWidth = ViewWidth.MOBILE;\n    sizeX = SizeType.COMPACT;\n\n    if (bridge.type === 'force_mobile_compact') {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else {\n    if (sizeX === undefined && viewWidth !== undefined) {\n      if (viewWidth <= ViewWidth.MOBILE) {\n        sizeX = SizeType.COMPACT;\n      } else {\n        sizeX = SizeType.REGULAR;\n      }\n    }\n    if (sizeY === undefined && viewWidth !== undefined && viewHeight !== undefined) {\n      if (\n        (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer) ||\n        viewHeight <= ViewHeight.EXTRA_SMALL\n      ) {\n        sizeY = SizeType.COMPACT;\n      } else {\n        sizeY = SizeType.REGULAR;\n      }\n    }\n  }\n\n  return {\n    viewWidth,\n    viewHeight,\n    sizeX,\n    sizeY,\n    hasPointer,\n    hasHover,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}