{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useTodayDate } from \"../../hooks/useTodayDate\";\nimport { getDaysNames, getWeeks } from \"../../lib/calendar\";\nimport { isSameDay, isSameMonth } from \"../../lib/date\";\nimport { CalendarDay } from \"../CalendarDay/CalendarDay\";\nimport { useConfigProvider } from \"../ConfigProvider/ConfigProviderContext\";\nimport { Footnote } from \"../Typography/Footnote/Footnote\";\nexport var CalendarDays = function (_param) {\n  var viewDate = _param.viewDate,\n    value = _param.value,\n    weekStartsOn = _param.weekStartsOn,\n    onDayChange = _param.onDayChange,\n    isDaySelected = _param.isDaySelected,\n    isDayActive = _param.isDayActive,\n    isDaySelectionEnd = _param.isDaySelectionEnd,\n    isDaySelectionStart = _param.isDaySelectionStart,\n    onDayEnter = _param.onDayEnter,\n    onDayLeave = _param.onDayLeave,\n    isDayHinted = _param.isDayHinted,\n    isHintedDaySelectionStart = _param.isHintedDaySelectionStart,\n    isHintedDaySelectionEnd = _param.isHintedDaySelectionEnd,\n    isDayFocused = _param.isDayFocused,\n    isDayDisabled = _param.isDayDisabled,\n    size = _param.size,\n    _param_showNeighboringMonth = _param.showNeighboringMonth,\n    showNeighboringMonth = _param_showNeighboringMonth === void 0 ? false : _param_showNeighboringMonth,\n    dayProps = _param.dayProps,\n    className = _param.className,\n    _param_listenDayChangesForUpdate = _param.listenDayChangesForUpdate,\n    listenDayChangesForUpdate = _param_listenDayChangesForUpdate === void 0 ? false : _param_listenDayChangesForUpdate,\n    props = _object_without_properties(_param, [\"viewDate\", \"value\", \"weekStartsOn\", \"onDayChange\", \"isDaySelected\", \"isDayActive\", \"isDaySelectionEnd\", \"isDaySelectionStart\", \"onDayEnter\", \"onDayLeave\", \"isDayHinted\", \"isHintedDaySelectionStart\", \"isHintedDaySelectionEnd\", \"isDayFocused\", \"isDayDisabled\", \"size\", \"showNeighboringMonth\", \"dayProps\", \"className\", \"listenDayChangesForUpdate\"]);\n  var locale = useConfigProvider().locale;\n  var ref = React.useRef(null);\n  var now = useTodayDate(listenDayChangesForUpdate);\n  var weeks = React.useMemo(function () {\n    return getWeeks(viewDate, weekStartsOn);\n  }, [weekStartsOn, viewDate]);\n  var daysNames = React.useMemo(function () {\n    return getDaysNames(now, weekStartsOn, locale);\n  }, [locale, now, weekStartsOn]);\n  var handleDayChange = React.useCallback(function (date) {\n    var _ref_current;\n    onDayChange(date);\n    (_ref_current = ref.current) === null || _ref_current === void 0 ? void 0 : _ref_current.focus();\n  }, [onDayChange]);\n  return /*#__PURE__*/React.createElement(\"div\", _object_spread_props(_object_spread({}, props), {\n    className: classNames(\"vkuiCalendarDays\", className),\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiCalendarDays__row\", size === \"s\" && \"vkuiCalendarDays__row--size-s\")\n  }, daysNames.map(function (dayName) {\n    return /*#__PURE__*/React.createElement(Footnote, {\n      key: dayName,\n      className: \"vkuiCalendarDays__weekday\"\n    }, dayName);\n  })), weeks.map(function (week, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"vkuiCalendarDays__row\", size === \"s\" && \"vkuiCalendarDays__row--size-s\"),\n      key: i\n    }, week.map(function (day, i) {\n      var _isHintedDaySelectionStart, _isHintedDaySelectionEnd, _isDaySelected, _isDayHinted;\n      var sameMonth = isSameMonth(day, viewDate);\n      return /*#__PURE__*/React.createElement(CalendarDay, _object_spread({\n        key: day.toISOString(),\n        day: day,\n        today: isSameDay(day, now),\n        active: isDayActive(day),\n        onChange: handleDayChange,\n        hidden: !showNeighboringMonth && !sameMonth,\n        disabled: isDayDisabled(day),\n        selectionStart: isDaySelectionStart(day, i),\n        selectionEnd: isDaySelectionEnd(day, i),\n        hintedSelectionStart: (_isHintedDaySelectionStart = isHintedDaySelectionStart) === null || _isHintedDaySelectionStart === void 0 ? void 0 : _isHintedDaySelectionStart(day, i),\n        hintedSelectionEnd: (_isHintedDaySelectionEnd = isHintedDaySelectionEnd) === null || _isHintedDaySelectionEnd === void 0 ? void 0 : _isHintedDaySelectionEnd(day, i),\n        selected: (_isDaySelected = isDaySelected) === null || _isDaySelected === void 0 ? void 0 : _isDaySelected(day),\n        focused: isDayFocused(day),\n        onEnter: onDayEnter,\n        onLeave: onDayLeave,\n        hinted: (_isDayHinted = isDayHinted) === null || _isDayHinted === void 0 ? void 0 : _isDayHinted(day),\n        sameMonth: sameMonth,\n        size: size\n      }, dayProps));\n    }));\n  }));\n};","map":{"version":3,"names":["React","classNames","useTodayDate","getDaysNames","getWeeks","isSameDay","isSameMonth","CalendarDay","useConfigProvider","Footnote","CalendarDays","_param","viewDate","value","weekStartsOn","onDayChange","isDaySelected","isDayActive","isDaySelectionEnd","isDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","isHintedDaySelectionStart","isHintedDaySelectionEnd","isDayFocused","isDayDisabled","size","_param_showNeighboringMonth","showNeighboringMonth","dayProps","className","_param_listenDayChangesForUpdate","listenDayChangesForUpdate","props","_object_without_properties","locale","ref","useRef","now","weeks","useMemo","daysNames","handleDayChange","useCallback","date","_ref_current","current","focus","createElement","_object_spread_props","_object_spread","map","dayName","key","week","i","day","_isHintedDaySelectionStart","_isHintedDaySelectionEnd","_isDaySelected","_isDayHinted","sameMonth","toISOString","today","active","onChange","hidden","disabled","selectionStart","selectionEnd","hintedSelectionStart","hintedSelectionEnd","selected","focused","onEnter","onLeave","hinted"],"sources":["/Users/evgeny/Desktop/VsCodeProjects/vk-client/vk-client/node_modules/@vkontakte/vkui/src/components/CalendarDays/CalendarDays.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useTodayDate } from '../../hooks/useTodayDate';\nimport { getDaysNames, getWeeks } from '../../lib/calendar';\nimport { isSameDay, isSameMonth } from '../../lib/date';\nimport { CalendarDay, CalendarDayElementProps } from '../CalendarDay/CalendarDay';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './CalendarDays.module.css';\n\nexport interface CalendarDaysProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  value?: Date | Array<Date | null>;\n  viewDate: Date;\n  weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n  showNeighboringMonth?: boolean;\n  size?: 's' | 'm';\n  dayProps?: CalendarDayElementProps;\n  listenDayChangesForUpdate?: boolean;\n  onDayChange(value: Date): void;\n  isDayDisabled(value: Date): boolean;\n  isDaySelectionStart(value: Date, dayOfWeek: number): boolean;\n  isDaySelectionEnd(value: Date, dayOfWeek: number): boolean;\n  isHintedDaySelectionStart?(value: Date, dayOfWeek: number): boolean;\n  isHintedDaySelectionEnd?(value: Date, dayOfWeek: number): boolean;\n  isDayActive(value: Date): boolean;\n  isDayHinted?(value: Date): boolean;\n  isDaySelected?(value: Date): boolean;\n  isDayFocused(value: Date): boolean;\n  onDayEnter?(value: Date): void;\n  onDayLeave?(value: Date): void;\n}\n\nexport const CalendarDays = ({\n  viewDate,\n  value,\n  weekStartsOn,\n  onDayChange,\n  isDaySelected,\n  isDayActive,\n  isDaySelectionEnd,\n  isDaySelectionStart,\n  onDayEnter,\n  onDayLeave,\n  isDayHinted,\n  isHintedDaySelectionStart,\n  isHintedDaySelectionEnd,\n  isDayFocused,\n  isDayDisabled,\n  size,\n  showNeighboringMonth = false,\n  dayProps,\n  className,\n  listenDayChangesForUpdate = false,\n  ...props\n}: CalendarDaysProps) => {\n  const { locale } = useConfigProvider();\n  const ref = React.useRef<HTMLDivElement>(null);\n  const now = useTodayDate(listenDayChangesForUpdate);\n\n  const weeks = React.useMemo(() => getWeeks(viewDate, weekStartsOn), [weekStartsOn, viewDate]);\n\n  const daysNames = React.useMemo(\n    () => getDaysNames(now, weekStartsOn, locale),\n    [locale, now, weekStartsOn],\n  );\n\n  const handleDayChange = React.useCallback(\n    (date: Date) => {\n      onDayChange(date);\n\n      ref.current?.focus();\n    },\n    [onDayChange],\n  );\n\n  return (\n    <div {...props} className={classNames(styles['CalendarDays'], className)} ref={ref}>\n      <div\n        className={classNames(\n          styles['CalendarDays__row'],\n          size === 's' && styles['CalendarDays__row--size-s'],\n        )}\n      >\n        {daysNames.map((dayName) => (\n          <Footnote key={dayName} className={styles['CalendarDays__weekday']}>\n            {dayName}\n          </Footnote>\n        ))}\n      </div>\n\n      {weeks.map((week, i) => (\n        <div\n          className={classNames(\n            styles['CalendarDays__row'],\n            size === 's' && styles['CalendarDays__row--size-s'],\n          )}\n          key={i}\n        >\n          {week.map((day, i) => {\n            const sameMonth = isSameMonth(day, viewDate);\n            return (\n              <CalendarDay\n                key={day.toISOString()}\n                day={day}\n                today={isSameDay(day, now)}\n                active={isDayActive(day)}\n                onChange={handleDayChange}\n                hidden={!showNeighboringMonth && !sameMonth}\n                disabled={isDayDisabled(day)}\n                selectionStart={isDaySelectionStart(day, i)}\n                selectionEnd={isDaySelectionEnd(day, i)}\n                hintedSelectionStart={isHintedDaySelectionStart?.(day, i)}\n                hintedSelectionEnd={isHintedDaySelectionEnd?.(day, i)}\n                selected={isDaySelected?.(day)}\n                focused={isDayFocused(day)}\n                onEnter={onDayEnter}\n                onLeave={onDayLeave}\n                hinted={isDayHinted?.(day)}\n                sameMonth={sameMonth}\n                size={size}\n                {...dayProps}\n              />\n            );\n          })}\n        </div>\n      ))}\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}