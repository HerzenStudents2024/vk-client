{"version":3,"sources":["../../../src/hooks/useFocusWithin.ts"],"sourcesContent":["import React from 'react';\nimport { useDOM } from '../lib/dom';\nimport { useGlobalEventListener } from './useGlobalEventListener';\n\nexport function useFocusWithin(ref: React.RefObject<HTMLElement | null>): boolean {\n  const { document } = useDOM();\n  const isFocusWithin = () => {\n    if (!ref.current || !document) {\n      return false;\n    }\n\n    return ref.current.contains(document.activeElement);\n  };\n\n  const [focusWithin, setFocusWithin] = React.useState<boolean>(isFocusWithin);\n\n  const listener = () => {\n    const focus = isFocusWithin();\n    focus !== focusWithin && setFocusWithin(focus);\n  };\n\n  useGlobalEventListener(document, 'focus', listener, { capture: true });\n  useGlobalEventListener(document, 'blur', listener, { capture: true });\n\n  return focusWithin;\n}\n"],"names":["React","useDOM","useGlobalEventListener","useFocusWithin","ref","document","isFocusWithin","current","contains","activeElement","focusWithin","setFocusWithin","useState","listener","focus","capture"],"mappings":"AAAA,OAAOA,WAAW,QAAQ;AAC1B,SAASC,MAAM,QAAQ,aAAa;AACpC,SAASC,sBAAsB,QAAQ,2BAA2B;AAElE,OAAO,SAASC,eAAeC,GAAwC;IACrE,MAAM,EAAEC,QAAQ,EAAE,GAAGJ;IACrB,MAAMK,gBAAgB;QACpB,IAAI,CAACF,IAAIG,OAAO,IAAI,CAACF,UAAU;YAC7B,OAAO;QACT;QAEA,OAAOD,IAAIG,OAAO,CAACC,QAAQ,CAACH,SAASI,aAAa;IACpD;IAEA,MAAM,CAACC,aAAaC,eAAe,GAAGX,MAAMY,QAAQ,CAAUN;IAE9D,MAAMO,WAAW;QACf,MAAMC,QAAQR;QACdQ,UAAUJ,eAAeC,eAAeG;IAC1C;IAEAZ,uBAAuBG,UAAU,SAASQ,UAAU;QAAEE,SAAS;IAAK;IACpEb,uBAAuBG,UAAU,QAAQQ,UAAU;QAAEE,SAAS;IAAK;IAEnE,OAAOL;AACT"}