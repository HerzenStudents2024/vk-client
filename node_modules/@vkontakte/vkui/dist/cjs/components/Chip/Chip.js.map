{"version":3,"sources":["../../../../src/components/Chip/Chip.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Icon16Cancel } from '@vkontakte/icons';\nimport { classNames, hasReactNode, noop } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { SizeType } from '../../lib/adaptivity';\nimport { getTitleFromChildren } from '../../lib/utils';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './Chip.module.css';\n\nconst sizeYClassNames = {\n  none: styles['Chip--sizeY-none'],\n  [SizeType.COMPACT]: styles['Chip--sizeY-compact'],\n};\n\nexport type ChipValue = string | number;\n\nexport interface ChipOption {\n  value?: ChipValue;\n  label?: string;\n  [otherProp: string]: any;\n}\n\nexport interface ChipProps extends React.HTMLAttributes<HTMLDivElement> {\n  value: ChipValue;\n  option?: ChipOption;\n  onRemove?: (event?: React.MouseEvent, value?: ChipValue) => void;\n  removable?: boolean;\n  removeAriaLabel?: string;\n  before?: React.ReactNode;\n  after?: React.ReactNode;\n}\n\nexport interface RenderChip<T extends ChipOption> extends ChipProps {\n  label: string;\n  option: T;\n  disabled: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Chip\n */\nexport const Chip = ({\n  value = '',\n  option,\n  removable = true,\n  onRemove = noop,\n  removeAriaLabel = 'Удалить',\n  before = null,\n  after,\n  children,\n  className,\n  ...restProps\n}: ChipProps) => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const onRemoveWrapper = React.useCallback(\n    (event: React.MouseEvent) => {\n      onRemove(event, value);\n    },\n    [onRemove, value],\n  );\n  const title = getTitleFromChildren(children);\n\n  return (\n    <div\n      className={classNames(\n        styles['Chip'],\n        sizeY !== SizeType.REGULAR && sizeYClassNames[sizeY],\n        removable && styles['Chip--removable'],\n        className,\n      )}\n      role=\"option\"\n      aria-label={title}\n      {...restProps}\n    >\n      <div className={styles['Chip__in']} role=\"presentation\">\n        {hasReactNode(before) && <div className={styles['Chip__before']}>{before}</div>}\n        <Footnote className={styles['Chip__content']} title={title} aria-hidden>\n          {children}\n        </Footnote>\n        {hasReactNode(after) && <div className={styles['Chip__after']}>{after}</div>}\n\n        {removable && (\n          <Tappable\n            Component=\"button\"\n            className={styles['Chip__remove']}\n            onClick={onRemoveWrapper}\n            hasHover={false}\n            hasActive={false}\n            aria-label={`${removeAriaLabel} ${title}`}\n          >\n            <Icon16Cancel />\n          </Tappable>\n        )}\n      </div>\n    </div>\n  );\n};\n"],"names":["Chip","sizeYClassNames","none","SizeType","COMPACT","value","option","removable","onRemove","noop","removeAriaLabel","before","after","children","className","restProps","useAdaptivity","sizeY","onRemoveWrapper","React","useCallback","event","title","getTitleFromChildren","div","classNames","REGULAR","role","aria-label","hasReactNode","Footnote","aria-hidden","Tappable","Component","onClick","hasHover","hasActive","Icon16Cancel"],"mappings":";;;;+BA0CaA;;;eAAAA;;;;;;;+DA1CU;qBACM;oBACkB;6BACjB;0BACL;qBACY;wBACZ;wBACA;AAGzB,IAAMC;IACJC,IAAI;GACHC,oBAAQ,CAACC,OAAO;AA8BZ,IAAMJ,OAAO;8BAClBK,OAAAA,kCAAQ,mBACRC,gBAAAA,kCACAC,WAAAA,0CAAY,kDACZC,UAAAA,wCAAWC,UAAI,oDACfC,iBAAAA,sDAAkB,2DAClBC,QAAAA,oCAAS,sBACTC,eAAAA,OACAC,kBAAAA,UACAC,mBAAAA,WACGC;QATHV;QACAC;QACAC;QACAC;QACAE;QACAC;QACAC;QACAC;QACAC;;IAGA,IAA2BE,kBAAAA,IAAAA,4BAAa,4BAAbA,gBAAnBC,OAAAA,0CAAQ;IAChB,IAAMC,kBAAkBC,OAAMC,WAAW,CACvC,SAACC;QACCb,SAASa,OAAOhB;IAClB,GACA;QAACG;QAAUH;KAAM;IAEnB,IAAMiB,QAAQC,IAAAA,2BAAoB,EAACV;IAEnC,qBACE,qBAACW;QACCV,WAAWW,IAAAA,gBAAU,cAEnBR,UAAUd,oBAAQ,CAACuB,OAAO,IAAIzB,eAAe,CAACgB,MAAM,EACpDV,oCACAO;QAEFa,MAAK;QACLC,cAAYN;OACRP,0BAEJ,qBAACS;QAAIV,SAAS;QAAsBa,MAAK;OACtCE,IAAAA,kBAAY,EAAClB,yBAAW,qBAACa;QAAIV,SAAS;OAA2BH,uBAClE,qBAACmB,kBAAQ;QAAChB,SAAS;QAA2BQ,OAAOA;QAAOS,eAAAA;OACzDlB,WAEFgB,IAAAA,kBAAY,EAACjB,wBAAU,qBAACY;QAAIV,SAAS;OAA0BF,QAE/DL,2BACC,qBAACyB,kBAAQ;QACPC,WAAU;QACVnB,SAAS;QACToB,SAAShB;QACTiB,UAAU;QACVC,WAAW;QACXR,cAAY,AAAC,GAAqBN,OAAnBZ,iBAAgB,KAAS,OAANY;qBAElC,qBAACe,mBAAY;AAMzB"}